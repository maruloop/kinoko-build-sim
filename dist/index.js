"use strict";(()=>{function o(n,e,t){n.removeEventListener(e,t),n.addEventListener(e,t)}var ae="title";function $e(n){let e=new URLSearchParams(window.location.search);e.set(ae,n);let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function Ye(){let n=document.getElementById("build-title"),t=new URLSearchParams(window.location.search).get(ae);t&&(n.value=se(decodeURIComponent(t)))}function se(n){return n.replace(/[<>&"'`]/g,"")}function ce(){let n=document.getElementById("build-title");Ye(),o(n,"input",()=>{let e=se(n.value);n.value!==e&&(n.value=e);let t=n.value.trim();$e(t)})}var C=[{id:1,name:"\u80DE\u5B50\u7206\u5F3E",icon:"icons/skills/1.jpg"},{id:2,name:"\u83CC\u8338\u982D\u6253",icon:"icons/skills/2.jpg"},{id:3,name:"\u80DE\u5B50\u9023\u6483",icon:"icons/skills/3.jpg"},{id:4,name:"\u5DE8\u77F3\u885D\u6483",icon:"icons/skills/4.jpg"},{id:5,name:"\u30C8\u30B2\u8302\u307F",icon:"icons/skills/5.jpg"},{id:6,name:"\u30AD\u30CE\u5148\u99C6",icon:"icons/skills/6.jpg"},{id:7,name:"\u30C4\u30BF\u7E1B\u308A",icon:"icons/skills/7.jpg"},{id:8,name:"\u75BE\u99C6\u83CC\u8338",icon:"icons/skills/8.jpg"},{id:9,name:"\u8718\u86DB\u306E\u5DE3",icon:"icons/skills/9.jpg"},{id:10,name:"\u843D\u30D1\u30A4\u30F3",icon:"icons/skills/10.jpg"},{id:11,name:"\u8C9D\u6069\u8FD4\u3057",icon:"icons/skills/11.jpg"},{id:12,name:"\u30C4\u30BF\u7E41\u8302",icon:"icons/skills/12.jpg"},{id:13,name:"\u8759\u8760\u884C\u65B9",icon:"icons/skills/13.jpg"},{id:14,name:"\u5927\u5730\u56DE\u5FA9",icon:"icons/skills/14.jpg"},{id:15,name:"\u83CC\u30D0\u30EA\u30A2",icon:"icons/skills/15.jpg"},{id:16,name:"\u30C9\u30EA\u7206\u5F3E",icon:"icons/skills/16.jpg"},{id:17,name:"\u53CD\u5247\u6253\u6483",icon:"icons/skills/17.jpg"},{id:18,name:"\u901F\u5EA6\u6696\u6162",icon:"icons/skills/18.jpg"},{id:19,name:"\u30B3\u30A4\u30F3\u7206\u5F3E",icon:"icons/skills/19.jpg"},{id:20,name:"\u30B9\u30E9\u30A4\u5F3E",icon:"icons/skills/20.jpg"},{id:21,name:"\u6D41\u661F\u843D\u5F3E",icon:"icons/skills/21.jpg"},{id:22,name:"\u6B66\u88C5\u89E3\u9664",icon:"icons/skills/22.jpg"},{id:23,name:"\u76EE\u7729\u5931\u795E",icon:"icons/skills/23.jpg"},{id:24,name:"\u7159\u5E55\u5F3E",icon:"icons/skills/24.jpg"},{id:25,name:"\u7121\u5E38\u72E9\u547D",icon:"icons/skills/25.jpg"},{id:26,name:"\u82F1\u9B42\u964D\u81E8",icon:"icons/skills/26.jpg"},{id:27,name:"\u72C2\u98A8\u901A\u9053",icon:"icons/skills/27.jpg"},{id:28,name:"\u7A32\u59BB\u5947\u8972",icon:"icons/skills/28.jpg"},{id:29,name:"\u5229\u5203\u8CAB\u901A",icon:"icons/skills/29.jpg"},{id:30,name:"\u5206\u8EAB\u653B\u6483",icon:"icons/skills/30.jpg"},{id:31,name:"\u767E\u65AC\u5343\u9396",icon:"icons/skills/31.jpg"},{id:32,name:"\u98A8\u795E\u306E\u77E2",icon:"icons/skills/32.jpg"},{id:33,name:"\u8840\u6708\u964D\u81E8",icon:"icons/skills/33.jpg"},{id:34,name:"\u7ADC\u541F\u53CC\u58F0",icon:"icons/skills/34.jpg"},{id:35,name:"\u5929\u4E0B\u306E\u7F60",icon:"icons/skills/35.jpg"},{id:36,name:"\u30BF\u30ED\u30C3\u30C8\u661F\u9663",icon:"icons/skills/36.jpg"},{id:37,name:"\u9CF6\u8776\u5165\u5922",icon:"icons/skills/37.jpg"},{id:38,name:"\u7956\u795E\u306E\u610F\u601D",icon:"icons/skills/38.jpg"}];var q=[{id:1,name:"\u5375\u5272\u308A\u5C0F\u9D8F",species:"\u9D8F",icon:"icons/pals/1.jpg"},{id:2,name:"\u30AD\u30CE\u30B3\u9CE5",species:"\u9CE5",icon:"icons/pals/2.jpg"},{id:3,name:"\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/3.jpg"},{id:4,name:"\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/4.jpg"},{id:5,name:"\u98DB\u884C\u72D0",species:"\u5996\u7CBE",icon:"icons/pals/5.jpg"},{id:6,name:"\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/6.jpg"},{id:7,name:"\u5B50\u9E7F",species:"\u9E7F",icon:"icons/pals/7.jpg"},{id:8,name:"\u5B50\u732B",species:"\u732B",icon:"icons/pals/8.jpg"},{id:9,name:"\u96EA\u5E03\u98A0",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/9.jpg"},{id:10,name:"\u8C46\u67F4",species:"\u829D\u72AC",icon:"icons/pals/10.jpg"},{id:11,name:"\u8056\u591C\u706B\u9D8F",species:"\u9D8F",icon:"icons/pals/11.jpg"},{id:12,name:"\u30A2\u30DE\u30E4\u9CE5",species:"\u9CE5",icon:"icons/pals/12.jpg"},{id:13,name:"\u68D8\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/13.jpg"},{id:14,name:"\u53CD\u9006\u30D0\u30CA\u30CA",species:"\u30D0\u30CA\u30CA",icon:"icons/pals/14.jpg"},{id:15,name:"\u9ED2\u732B",species:"\u732B",icon:"icons/pals/15.jpg"},{id:16,name:"\u81EA\u7136\u306E\u7CBE\u970A",species:"\u6C34\u7389",icon:"icons/pals/16.jpg"},{id:17,name:"\u30A2\u30DF\u3061\u3083\u3093",species:"\u5996\u7CBE",icon:"icons/pals/17.jpg"},{id:18,name:"\u96EA\u56E3\u5B50",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/18.jpg"},{id:19,name:"\u67F4\u592A\u90CE",species:"\u829D\u72AC",icon:"icons/pals/19.jpg"},{id:20,name:"\u30D1\u30F3\u30C0\u69CC",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/20.jpg"},{id:21,name:"\u679D\u89D2\u9E7F",species:"\u9E7F",icon:"icons/pals/21.jpg"},{id:22,name:"\u6F54\u7656\u95D8\u58EB",species:"\u6B6F\u78E8\u304D\u7C89",icon:"icons/pals/22.jpg"},{id:23,name:"\u9B54\u5973\u732B",species:"\u732B",icon:"icons/pals/23.jpg"},{id:24,name:"\u597D\u6226\u306A\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/24.jpg"},{id:25,name:"\u30DC\u30FC\u30B4\u30F3",species:"\u5996\u7CBE",icon:"icons/pals/25.jpg"},{id:26,name:"\u96EA\u7CBE\u970A",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/26.jpg"},{id:27,name:"\u30D1\u30D5\u30A7\u67F4",species:"\u829D\u72AC",icon:"icons/pals/27.jpg"},{id:28,name:"\u6226\u95D8\u9D8F",species:"\u9D8F",icon:"icons/pals/28.jpg"},{id:29,name:"\u9752\u30EC\u30A4\u9CE5",species:"\u9CE5",icon:"icons/pals/29.jpg"},{id:30,name:"\u5B66\u5F92\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/30.jpg"},{id:31,name:"\u82D4\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/31.jpg"},{id:32,name:"\u751F\u82B1\u9E7F",species:"\u9E7F",icon:"icons/pals/32.jpg"},{id:33,name:"\u30DE\u30A4\u732B",species:"\u732B",icon:"icons/pals/33.jpg"},{id:34,name:"\u5E38\u52DD\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/34.jpg"},{id:35,name:"\u8CAB\u901A\u7363",species:"\u5996\u7CBE",icon:"icons/pals/35.jpg"},{id:36,name:"\u96EA\u5996\u602A",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/36.jpg"},{id:37,name:"\u30E1\u30AB\u67F4",species:"\u829D\u72AC",icon:"icons/pals/37.jpg"},{id:38,name:"\u529F\u592B\u795E\u9D8F",species:"\u9D8F",icon:"icons/pals/38.jpg"},{id:39,name:"\u7D05\u30E9\u30F3\u9CE5",species:"\u9CE5",icon:"icons/pals/39.jpg"},{id:40,name:"\u9053\u7740\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/40.jpg"},{id:41,name:"\u30A2\u30A4\u30B9\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/41.jpg"},{id:42,name:"\u970A\u9E7F",species:"\u9E7F",icon:"icons/pals/42.jpg"},{id:43,name:"\u694A\u679D\u30CA\u30B9",species:"\u30CA\u30B9",icon:"icons/pals/43.jpg"},{id:44,name:"\u526F\u9F8D\u30DD\u30E8\u30F3",species:"\u7ADC",icon:"icons/pals/44.jpg"},{id:45,name:"\u30ED\u30DC\u30C9\u30E9\u30B4\u30F3",species:"\u30ED\u30DC\u30C9\u30E9\u30B4\u30F3",icon:"icons/pals/45.jpg"},{id:46,name:"B.Duck",species:"B.Duck",icon:"icons/pals/46.jpg"},{id:47,name:"\u30CE\u30D6\u30CA\u30AC\u30EF\u30F3",species:"\u30CE\u30D6\u30CA\u30AC\u30EF\u30F3",icon:"icons/pals/47.jpg"},{id:48,name:"\u30C6\u30EA\u30A2\u30E2\u30F3",species:"\u30C6\u30EA\u30A2\u30E2\u30F3",icon:"icons/pals/48.jpg"},{id:49,name:"\u30EC\u30CA\u30E2\u30F3",species:"\u30EC\u30CA\u30E2\u30F3",icon:"icons/pals/49.jpg"},{id:50,name:"\u30B7\u30E5\u30FC\u5B50\u3061\u3083\u3093",species:"\u30B7\u30E5\u30FC\u5B50\u3061\u3083\u3093",icon:"icons/pals/50.jpg"},{id:51,name:"\u30B2\u30ED\u30BF\u30F3",species:"\u30B2\u30ED\u30BF\u30F3",icon:"icons/pals/51.jpg"},{id:52,name:"\u30C0\u30F3\u30B4\u30ED\u30F3",species:"\u30C0\u30F3\u30B4\u30ED\u30F3",icon:"icons/pals/52.jpg"},{id:53,name:"\u738B\u5B50\u732B",species:"\u732B",icon:"icons/pals/53.jpg"},{id:54,name:"\u6226\u795E\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/54.jpg"},{id:55,name:"\u706B\u5C3E",species:"\u5996\u7CBE",icon:"icons/pals/55.jpg"},{id:56,name:"\u96EA\u5927\u5C06",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/56.jpg"},{id:57,name:"\u6B66\u58EB\u67F4",species:"\u829D\u72AC",icon:"icons/pals/57.jpg"},{id:58,name:"\u5929\u4E0B\u30C8\u30EA",species:"\u9D8F",icon:"icons/pals/58.jpg"},{id:59,name:"\u4FA0\u30AB\u30AF\u9CE5",species:"\u9CE5",icon:"icons/pals/59.jpg"},{id:60,name:"\u6B66\u82B8\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/60.jpg"},{id:61,name:"\u9154\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/61.jpg"},{id:62,name:"\u5929\u4F7F\u9E7F",species:"\u9E7F",icon:"icons/pals/62.jpg"},{id:63,name:"\u6B63\u7FA9\u30D0\u30CA\u30CA",species:"\u30D0\u30CA\u30CA",icon:"icons/pals/63.jpg"},{id:64,name:"\u8679\u5B88\u8B77\u8005",species:"\u6B6F\u78E8\u304D\u7C89",icon:"icons/pals/64.jpg"},{id:65,name:"\u50B7\u5FC3\u86D9",species:"\u50B7\u5FC3\u86D9",icon:"icons/pals/65.jpg"},{id:66,name:"\u51A5\u706B\u5E7D\u7FBD",species:"\u51A5\u706B\u5E7D\u7FBD",icon:"icons/pals/66.jpg"},{id:67,name:"\u30D0\u30BF\u30D0\u30BF\u5B50\u72AC",species:"\u30D0\u30BF\u30D0\u30BF\u5B50\u72AC",icon:"icons/pals/67.jpg"},{id:68,name:"\u6D77\u8CCA\u30AA\u30A6\u30E0",species:"\u6D77\u8CCA\u30AA\u30A6\u30E0",icon:"icons/pals/68.jpg"},{id:69,name:"\u30B8\u30F3\u30B8\u30E3\u30FC\u30AF\u30C3\u30AD\u30FC",species:"\u30B8\u30F3\u30B8\u30E3\u30FC\u30AF\u30C3\u30AD\u30FC",icon:"icons/pals/69.jpg"},{id:70,name:"\u96A0\u5B9D\u7ADC",species:"\u7ADC",icon:"icons/pals/70.jpg"},{id:71,name:"\u30AF\u30FC\u30EB\u30AB\u30E1",species:"\u30AB\u30E1",icon:"icons/pals/71.jpg"},{id:72,name:"\u30ED\u30DC\u30C9\u30C3\u30B0",species:"\u30ED\u30DC\u30C9\u30C3\u30B0",icon:"icons/pals/72.jpg"},{id:73,name:"\u72D0\u5C71\u795E\u72D0",species:"\u72D0",icon:"icons/pals/73.jpg"},{id:74,name:"\u6D77\u8CCA\u30BF\u30B3",species:"\u30BF\u30B3",icon:"icons/pals/74.jpg"},{id:75,name:"\u5BCC\u8C6A\u30C8\u30AB\u30B2",species:"\u30C8\u30AB\u30B2",icon:"icons/pals/75.jpg"},{id:76,name:"\u6708\u306E\u514E",species:"\u6708\u306E\u514E",icon:"icons/pals/76.jpg"},{id:77,name:"\u99DD\u9234\u30AB\u30E9\u30F3",species:"\u30A2\u30EB\u30D1\u30AB",icon:"icons/pals/77.jpg"}];var D=[],u=document.createElement("div");u.innerHTML=`
  <div class="modal-content">
    <p>\u672C\u5F53\u306B\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F</p>
    <button id="confirm-yes">\u306F\u3044</button>
    <button id="confirm-no">\u30AD\u30E3\u30F3\u30BB\u30EB</button>
  </div>
`;u.classList.add("modal");document.body.appendChild(u);var Oe=u.querySelector("#confirm-yes"),Ne=u.querySelector("#confirm-no");function m(n,e){D=n,u.querySelector("p").textContent=`${e}\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F`,u.style.display="block"}function oe(){u.style.display="none",D=[]}function Fe(){let n=new URLSearchParams(window.location.search);D.forEach(t=>n.delete(t));let e=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",e)}Oe.addEventListener("click",()=>{Fe(),j(),oe()});Ne.addEventListener("click",oe);var T="pals",_='<span class="icon empty"></span>';function I(){let n=document.getElementById("pal-list");n.innerHTML="",q.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>Ke(e)),n.appendChild(t)}),le()}function Ke(n){console.log("toggle");let e=document.querySelector(`.pal-slot[data-pal-id="${n.id}"]`);if(e){let t=parseInt(e.dataset.slot||"1",10);x(t)}else{console.log("add");let t=document.querySelector(".pal-slot:not([data-pal-id])");if(console.log(t),t){t.dataset.palId=String(n.id),t.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),i.dataset.palId=String(n.id),o(i,"click",()=>{let a=parseInt(t.dataset.slot||"1",10);x(a)}),t.appendChild(i),$(),I()}}}function x(n){let e=document.querySelector(`.pal-slot[data-slot="${n}"]`);e&&(e.removeAttribute("data-pal-id"),e.innerHTML=_),I(),$()}function le(){document.querySelectorAll("#pal-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`.pal-slot[data-pal-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function $(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".pal-slot[data-pal-id]")).map(i=>{let a=i.getAttribute("data-slot"),c=i.getAttribute("data-pal-id");return`${a}:${c}`}).join(",");e?n.set(T,e):n.delete(T);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function Qe(){let n=document.getElementById("selected-pals");n.innerHTML="";let e=O();for(let t=0;t<e;t++){let i=document.createElement("div");i.classList.add("pal-slot"),i.dataset.slot=String(t),i.innerHTML=_,n.appendChild(i)}}function Je(){let e=new URLSearchParams(window.location.search).get(T),t=new Map((e||"").split(",").map(a=>{let[c,s]=a.split(":");return[c,s]}));document.querySelectorAll(".pal-slot").forEach(a=>{let c=a.dataset.slot,s=t.get(c),l=q.find(d=>d.id===parseInt(s||"",10));if(l){a.dataset.palId=String(l.id),a.innerHTML="";let d=document.createElement("img");d.src=l.icon,d.classList.add("icon"),d.alt=l.name,o(d,"click",()=>{let r=parseInt(a.dataset.slot||"1",10);x(r)}),a.appendChild(d)}else a.removeAttribute("data-pal-id"),a.innerHTML=_}),le()}function Y(){let n=document.getElementById("selected-pals"),e=n.querySelectorAll(".pal-slot").length,t=O();if(e>t){for(let i=t;i<e;i++){let a=n.querySelector(`[data-slot="${i}"]`);a&&a.remove()}I(),$()}else if(e<t)for(let i=e;i<t;i++){let a=document.createElement("div");a.classList.add("pal-slot"),a.dataset.slot=String(i),a.innerHTML='<span class="icon empty"></span>',n.appendChild(a)}}function de(){Qe(),I(),Je();let n=document.getElementById("reset-pals-btn");o(n,"click",()=>{m([T],"\u4EF2\u9593")})}var N=[{id:1,name:"\u6B66\u8056",palLimit:5},{id:2,name:"\u6226\u795E",palLimit:5},{id:3,name:"\u8056\u72E9",palLimit:5},{id:4,name:"\u7FBD\u7687",palLimit:5},{id:5,name:"\u5148\u77E5",palLimit:5},{id:6,name:"\u9B54\u738B",palLimit:5},{id:7,name:"\u7363\u738B",palLimit:6},{id:8,name:"\u970A\u5C0A",palLimit:6}],re="job",Ge=document.querySelectorAll('input[name="job"]');Ge.forEach(n=>{o(n,"change",e=>{let t=e.target,i=parseInt(t.value,10);document.getElementById("job-options").dataset.selectedJob=String(i),Xe(i),Y()})});function Xe(n){let e=new URLSearchParams(window.location.search);e.set(re,String(n));let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function ze(){let n=new URLSearchParams(window.location.search),e=parseInt(n.get(re)||"1",10);N.find(i=>i.id===e)&&(document.getElementById("job-options").dataset.selectedJob=String(e),We(e))}function We(n){let e=document.querySelector(`input[name="job"][value="${n}"]`);e&&(e.checked=!0)}function me(){ze(),Y()}function O(){let n=parseInt(document.getElementById("job-options").dataset.selectedJob||"1");return N.find(e=>e.id===n)?.palLimit||N[0].palLimit}var Ve=[{id:1,name:"\u56DE\u5FA9"},{id:2,name:"\u56DE\u907F"},{id:3,name:"\u30C0\u30A6\u30F3"},{id:4,name:"\u9023\u6483"},{id:5,name:"\u53CD\u6483"},{id:6,name:"\u4F1A\u5FC3"},{id:7,name:"\u4EF2\u9593\u9023\u6483"},{id:8,name:"\u4EF2\u9593\u4F1A\u5FC3"},{id:9,name:"\u6280\u80FD\u4F1A\u5FC3"}],g=20,M="equipments";function Ze(){let n=document.getElementById("equipments-option-list"),e=document.getElementById("equipments-total-count");n.innerHTML="",Ve.forEach(t=>{let i=document.createElement("div");i.classList.add("equipments-option-item"),i.dataset.count="0",i.dataset.id=String(t.id),i.innerHTML=`
      <span class="equipments-option-name">${t.name}</span>
      <div class="equipments-counter">
        <button data-id="${t.id}" data-action="decrease10">-10</button>
        <button data-id="${t.id}" data-action="decrease">-</button>
        <span class="count-display">0</span>
        <button data-id="${t.id}" data-action="increase">+</button>
        <button data-id="${t.id}" data-action="increase10">+10</button>
      </div>
    `,i.querySelectorAll("button").forEach(a=>{o(a,"click",c=>en(c,i,e))}),n.appendChild(i)}),e.dataset.total="0",e.textContent="0"}function en(n,e,t){let i=n.currentTarget,a=parseInt(t.dataset.total||"0",10),c=i.dataset.action,s=parseInt(e.dataset.count||"0",10),l=e.querySelector(".count-display");switch(c){case"decrease10":s=Math.max(0,s-10);break;case"decrease":s=Math.max(0,s-1);break;case"increase":s=Math.min(10,a+1>g?s+g-a:s+1);break;case"increase10":s=Math.min(10,a+10>g?s+g-a:s+10);break}e.dataset.count=String(s),l.textContent=String(s),nn(t),tn()}function nn(n){let e=document.querySelectorAll(".equipments-option-item"),t=Array.from(e).reduce((i,a)=>i+parseInt(a.dataset.count||"0",10),0);n.textContent=String(t),n.dataset.total=String(t)}function tn(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".equipments-option-item")).filter(i=>parseInt(i.dataset.count||"0",10)>0).map(i=>`${i.dataset.id}:${i.dataset.count}`).join(",");e?n.set(M,e):n.delete(M);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function an(){let e=new URLSearchParams(window.location.search).get(M)?.split(",")||[],t=document.getElementById("equipments-option-list"),i=0;t.querySelectorAll(".equipments-option-item").forEach(c=>{let s=c.dataset.id;if(!s)return;let l=e.find(B=>B.startsWith(`${s}:`)),d=l?parseInt(l.split(":")[1],10):0,r=g-i,p=Math.min(d,r);c.dataset.count=String(p);let U=c.querySelector(".count-display");U.textContent=String(p),i+=p});let a=document.getElementById("equipments-total-count");a.textContent=String(i),a.dataset.total=String(i)}function pe(){Ze(),an();let n=document.getElementById("reset-equipments-btn");o(n,"click",()=>{m([M],"\u88C5\u5099")})}var sn=5,k="skills",K='<span class="icon empty"></span>';function Q(){let n=document.getElementById("skill-list");n.innerHTML="",C.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>cn(e)),n.appendChild(t)}),ue()}function cn(n){let e=document.querySelector(`.skill-slot[data-skill-id="${n.id}"]`);if(e){let t=parseInt(e.dataset.slot||"0",10);F(t)}else{let t=document.querySelector(".skill-slot:not([data-skill-id])");if(t){t.dataset.skillId=String(n.id),t.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),i.dataset.palId=String(n.id),o(i,"click",()=>{let a=parseInt(t.dataset.slot||"0",10);F(a)}),t.appendChild(i),ge(),Q()}}}function F(n){let e=document.querySelector(`.skill-slot[data-slot="${n}"]`);e&&(e.removeAttribute("data-skill-id"),e.innerHTML=K),Q(),ge()}function ue(){document.querySelectorAll("#skill-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`.skill-slot[data-skill-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function ge(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".skill-slot[data-skill-id]")).map(i=>{let a=i.getAttribute("data-slot"),c=i.getAttribute("data-skill-id");return`${a}:${c}`}).join(",");e?n.set(k,e):n.delete(k);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function on(){let n=document.getElementById("selected-skills");n.innerHTML="";for(let e=0;e<sn;e++){let t=document.createElement("div");t.classList.add("skill-slot"),t.dataset.slot=String(e),t.innerHTML=K,n.appendChild(t)}}function ln(){let e=new URLSearchParams(window.location.search).get(k),t=new Map((e||"").split(",").map(a=>{let[c,s]=a.split(":");return[c,s]}));document.querySelectorAll(".skill-slot").forEach(a=>{let c=a.dataset.slot,s=t.get(c),l=C.find(d=>d.id===parseInt(s||"",10));if(l){a.dataset.skillId=String(l.id),a.innerHTML="";let d=document.createElement("img");d.src=l.icon,d.classList.add("icon"),d.alt=l.name,o(d,"click",()=>{let r=parseInt(a.dataset.slot||"1",10);F(r)}),a.appendChild(d)}else a.removeAttribute("data-skill-id"),a.innerHTML=K}),ue()}function Se(){on(),Q(),ln();let n=document.getElementById("reset-skills-btn");o(n,"click",()=>{m([k],"\u6280\u80FD")})}var J=(l=>(l.Mask="\u4EEE\u9762",l.Fossil="\u5316\u77F3",l.EarthTreasure="\u5730\u5B9D",l.Book="\u66F8\u7269",l.Statue="\u5F6B\u50CF",l.Necklace="\u9996\u98FE",l.Spore="\u80DE\u5B50",l))(J||{}),Ee=[{id:1,name:"\u7D46\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/1.jpg"},{id:2,name:"\u77E2\u738B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/2.jpg"},{id:3,name:"\u91D1\u525B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/3.jpg"},{id:4,name:"\u796D\u7940\u306E\u9762\u5177",type:"\u4EEE\u9762",icon:"icons/relics/4.jpg"},{id:5,name:"\u9B54\u738B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/5.jpg"},{id:6,name:"\u5F15\u96F7\u51E7",type:"\u5316\u77F3",icon:"icons/relics/6.jpg"},{id:7,name:"\u91D1\u7B94\u5375\u6BBB",type:"\u5316\u77F3",icon:"icons/relics/7.jpg"},{id:8,name:"\u65CB\u98A8\u7FBD\u6BDB",type:"\u5316\u77F3",icon:"icons/relics/8.jpg"},{id:9,name:"\u7425\u73C0\u30C7\u30F3\u866B",type:"\u5316\u77F3",icon:"icons/relics/9.jpg"},{id:10,name:"\u7ADC\u7D0B\u9AA8\u74B0",type:"\u5316\u77F3",icon:"icons/relics/10.jpg"},{id:11,name:"\u77E2\u7AF9",type:"\u5730\u5B9D",icon:"icons/relics/11.jpg"},{id:12,name:"\u9752\u3044\u96EA\u82B1",type:"\u5730\u5B9D",icon:"icons/relics/12.jpg"},{id:13,name:"\u6075\u307F\u306E\u96E8",type:"\u5730\u5B9D",icon:"icons/relics/13.jpg"},{id:14,name:"\u9B54\u6CD5\u306E\u7BB1",type:"\u5730\u5B9D",icon:"icons/relics/14.jpg"},{id:15,name:"\u7570\u5F62\u6C34\u6676",type:"\u5730\u5B9D",icon:"icons/relics/15.jpg"},{id:16,name:"\u706B\u7114\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/16.jpg"},{id:17,name:"\u7363\u76AE\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/17.jpg"},{id:18,name:"\u514D\u75AB\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/18.jpg"},{id:19,name:"\u7652\u3057\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/19.jpg"},{id:20,name:"\u77F3\u8108\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/20.jpg"},{id:21,name:"\u30A8\u30CD\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/21.jpg"},{id:22,name:"\u6ABB\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/22.jpg"},{id:23,name:"\u5E7B\u6676\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/23.jpg"},{id:24,name:"\u6642\u306E\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/24.jpg"},{id:25,name:"\u661F\u7F85\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/25.jpg"},{id:26,name:"\u9632\u5FA1\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/26.jpg"},{id:27,name:"\u8D64\u938C\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/27.jpg"},{id:28,name:"\u66B4\u98A8\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/28.jpg"},{id:29,name:"\u82F1\u970A\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/29.jpg"},{id:30,name:"\u96A0\u6DF5\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/30.jpg"},{id:31,name:"\u6642\u7A7A\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/31.jpg"},{id:32,name:"\u6D85\u69C3\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/32.jpg"},{id:33,name:"\u5F37\u529B\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/33.jpg"},{id:34,name:"\u8986\u7FBD\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/34.jpg"},{id:35,name:"\u68D8\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/35.jpg"}],v="relics",G='<span class="icon empty"></span>';function dn(){let n=document.getElementById("selected-relics");n.innerHTML="",Object.values(J).forEach((e,t)=>{let i=document.createElement("div");i.classList.add("relic-slot"),i.dataset.slot=String(t),i.dataset.type=e,i.innerHTML=G,n.appendChild(i)})}function he(){let n=document.getElementById("relics-list");n.innerHTML="",Object.values(J).forEach(e=>{let t=document.createElement("div");t.classList.add("relic-group"),t.innerHTML="",Ee.filter(a=>a.type===e).forEach(a=>{let c=document.createElement("img");c.src=a.icon,c.alt=a.name,c.classList.add("icon"),c.dataset.id=String(a.id),c.dataset.type=a.type,o(c,"click",()=>rn(a)),t.appendChild(c)}),n.appendChild(t)}),Le()}function rn(n){let e=document.querySelector(`.relic-slot[data-type="${n.type}"]`);if(!e){console.warn(`Slot not found for relic type: ${n.type}`);return}let t=e.dataset.relicId?parseInt(e.dataset.relicId,10):null;t===n.id?fe(n.type):(t!=null&&fe(n.type),e.dataset.relicId=String(n.id),e.innerHTML=`<img src="${n.icon}" alt="${n.name}" class="icon">`),mn(),he()}function fe(n){let e=document.querySelector(`.relic-slot[data-type="${n}"]`);e&&(e.removeAttribute("data-relic-id"),e.innerHTML=G)}function Le(){document.querySelectorAll(".relic-group .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`.relic-slot[data-relic-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function mn(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".relic-slot[data-relic-id]")).map(i=>i.getAttribute("data-relic-id")).join(",");e?n.set(v,e):n.delete(v);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function pn(){let e=new URLSearchParams(window.location.search).get(v)?.split(",").map(i=>parseInt(i,10))||[];document.querySelectorAll(".relic-slot").forEach(i=>{let a=i.dataset.type,c=Ee.find(s=>s.type===a&&e.includes(s.id));if(c){i.dataset.relicId=String(c.id),i.innerHTML="";let s=document.createElement("img");s.src=c.icon,s.classList.add("icon"),s.alt=c.name,i.appendChild(s)}else i.removeAttribute("data-relic-id"),i.innerHTML=G}),Le()}function ye(){dn(),he(),pn();let n=document.getElementById("reset-relics-btn");o(n,"click",()=>{m([v],"\u907A\u7269")})}var un=[{id:1,name:"\u653B\u6483\u4E57\u7B97"},{id:2,name:"\u4F53\u529B\u4E57\u7B97"},{id:3,name:"\u9632\u5FA1\u4E57\u7B97"},{id:4,name:"\u6280\u80FD\u30C0\u30E1"},{id:5,name:"\u9023\u6483\u30C0\u30E1\u4E57\u7B97"},{id:6,name:"\u53CD\u6483\u30C0\u30E1\u4E57\u7B97"},{id:7,name:"\u4EF2\u9593\u30C0\u30E1"},{id:8,name:"\u5BFE\u30DC\u30B9\u30C0\u30E1"},{id:9,name:"\u4F1A\u5FC3\u30C0\u30E1\u52A0\u7B97"},{id:10,name:"\u4F1A\u5FC3\u62B5\u6297"}],X=5,b="statues";function gn(){let n=document.getElementById("statue-list");n.innerHTML="";let e=document.getElementById("statue-total-count");un.forEach(t=>{let i=document.createElement("div");i.classList.add("statue-option-item"),i.dataset.count=String(i.dataset.count||"0"),i.dataset.id=String(t.id),i.innerHTML=`
            <span class="statue-option-name">${t.name}</span>
            <div class="statue-counter">
                <button data-action="decrease">-</button>
                <span class="count-display">${i.dataset.count}</span>
                <button data-action="increase">+</button>
            </div>
        `,i.querySelectorAll("button").forEach(a=>{o(a,"click",c=>Sn(c,i,e))}),n.appendChild(i)}),e.textContent="0",e.dataset.total="0"}function Sn(n,e,t){let i=n.currentTarget,a=parseInt(t.dataset.total||"0",10),c=i.dataset.action,s=parseInt(e.dataset.count||"0",10),l=e.querySelector(".count-display");switch(c){case"decrease":s=Math.max(0,s-1);break;case"increase":s=Math.min(5,a+1>X?s+X-a:s+1);break}e.dataset.count=String(s),l.textContent=String(s),En(),fn(t)}function fn(n){let e=document.querySelectorAll(".statue-option-item"),t=Array.from(e).reduce((i,a)=>i+parseInt(a.dataset.count||"0",10),0);n.textContent=String(t),n.dataset.total=String(t)}function En(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".statue-option-item[data-count]")).filter(t=>parseInt(t.dataset.count||"0",10)>0).map(t=>`${t.dataset.id}:${t.dataset.count}`).join(",");e?n.set(b,e):n.delete(b),history.replaceState(null,"","?"+n.toString())}function hn(){let e=new URLSearchParams(window.location.search).get(b)?.split(",")||[],t=0;document.getElementById("statue-list").querySelectorAll(".statue-option-item").forEach(c=>{let s=c.dataset.id;if(!s)return;let l=e.find(B=>B.startsWith(`${s}:`)),d=l?parseInt(l.split(":")[1],10):0,r=X-t,p=Math.min(d,r);c.dataset.count=String(p);let U=c.querySelector(".count-display");U.textContent=String(p),t+=p});let a=document.getElementById("statue-total-count");a.textContent=String(t),a.dataset.total=String(t)}function je(){gn(),hn();let n=document.getElementById("reset-statues-btn");o(n,"click",()=>{m([b],"\u5F6B\u50CF")})}var Te=[{id:1,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:2,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:3,name:"\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:4,name:"\u4F1A\u5FC3\u62B5\u6297\u4E57\u7B97"},{id:5,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:6,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:7,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97\u4E57\u7B97"}],Ln=6;function yn(){let n=document.getElementById("enchantment-sets-list");n.querySelectorAll(".enchantment-set-item").forEach(t=>{t.remove()}),Te.forEach(t=>{let i=document.createElement("div");i.classList.add("enchantment-set-item"),i.dataset.id=String(t.id),i.dataset.count="0";let a=document.createElement("span");a.textContent=t.name;let c=document.createElement("div");c.classList.add("checkbox-group");let s=document.createElement("input");s.type="checkbox",s.dataset.value="2",s.id=`set-${t.id}-x2`;let l=document.createElement("label");l.htmlFor=s.id,l.textContent="x2";let d=document.createElement("input");d.type="checkbox",d.dataset.value="4",d.id=`set-${t.id}-x4`;let r=document.createElement("label");r.htmlFor=d.id,r.textContent="x4",c.appendChild(s),c.appendChild(l),c.appendChild(d),c.appendChild(r),i.appendChild(a),i.appendChild(c),n.appendChild(i)})}function jn(n,e,t){let i=parseInt(n.dataset.count||"0",10),a=t?i+e:i-e,c=document.getElementById("enchantment-sets-list"),l=parseInt(c.dataset.total||"0",10)+(t?e:-e);if(l<=Ln)n.dataset.count=String(a),c.dataset.total=String(l),In();else{let d=n.querySelector(`input[data-value="${e}"]`);d.checked=!1}}function Tn(n){let e=n.target,t=e.closest(".enchantment-set-item"),i=parseInt(e.dataset.value,10),a=e.checked;jn(t,i,a)}function In(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".enchantment-set-item input:checked")).map(i=>{let c=i.closest(".enchantment-set-item").dataset.id,s=i.dataset.value;return`${c}:${s}`}).join(",");e?n.set(S,e):n.delete(S);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function Mn(){let t=(new URLSearchParams(window.location.search).get(S)||"").split(","),i=document.getElementById("enchantment-sets-list"),a=0;i.querySelectorAll(".enchantment-set-item").forEach(c=>{let s=c.dataset.id;if(!s)return;Te.find(d=>d.id===parseInt(s,10)&&t.some(r=>r.startsWith(`${s}:`)))?t.filter(r=>r.startsWith(`${s}:`)).map(r=>parseInt(r.split(":")[1],10)).forEach(r=>{let p=c.querySelector(`input[data-value="${r}"]`);p&&(p.checked=!0,a+=r)}):c.querySelectorAll("input").forEach(d=>{d.checked=!1})}),i.dataset.total=String(a)}function Ie(){yn(),Mn(),document.querySelectorAll('.enchantment-set-item input[type="checkbox"]').forEach(e=>{o(e,"change",Tn)})}var Me=[{id:1,name:"\u2163",options:[{id:1,name:"\u53CD\u6483\u30C0\u30E1"},{id:2,name:"\u9023\u6483\u30C0\u30E1"},{id:3,name:"\u4EF2\u9593\u30C0\u30E1"},{id:4,name:"\u6280\u80FD\u30C0\u30E1"},{id:5,name:"\u901A\u5E38\u30C0\u30E1"}]},{id:2,name:"\u2164",options:[{id:6,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:7,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:8,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:9,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}]},{id:3,name:"\u2165",options:[{id:10,name:"\u4F1A\u5FC3\u30C0\u30E1\u52A0\u7B97"},{id:11,name:"\u4F1A\u5FC3\u62B5\u6297\u52A0\u7B97"},{id:12,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:13,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8"},{id:14,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}]}];function kn(){let n=document.getElementById("enchantment-main-list");n.querySelectorAll(".enchantment-part").forEach(t=>{t.remove()}),Me.forEach(t=>{let i=document.createElement("div");i.classList.add("enchantment-part");let a=document.createElement("h4");a.classList.add("inline-title"),a.textContent=`${t.name}:`;let c=document.createElement("select");c.dataset.part=String(t.id),c.classList.add("enchantment-main");let s=document.createElement("option");s.value="",s.textContent="\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",s.disabled=!0,s.selected=!0,c.appendChild(s),t.options.forEach(l=>{let d=document.createElement("option");d.value=l.name,d.textContent=l.name,d.dataset.id=String(l.id),c.appendChild(d)}),i.appendChild(a),i.appendChild(c),n.appendChild(i),o(c,"change",vn)})}function vn(){let n=new URLSearchParams(window.location.search),e=[];document.querySelectorAll("select.enchantment-main").forEach(i=>{let a=i.dataset.part,s=i.selectedOptions[0]?.dataset.id;a&&s&&e.push(`${a}:${s}`)}),e.length>0?n.set(f,e.join(",")):n.delete(f);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function bn(){let e=new URLSearchParams(window.location.search).get(f),t=new Map((e||"").split(",").map(a=>{let[c,s]=a.split(":");return[c,s]}));document.querySelectorAll("select.enchantment-main").forEach(a=>{let c=a.dataset.part,s=t.get(c),d=Me.find(r=>r.id===Number(c))?.options.find(r=>r.id===parseInt(s||"",10));d?a.value=d.name:a.selectedIndex=0})}function ke(){kn(),bn()}var ve=[{id:1,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:2,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:3,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:4,name:"\u9023\u6483\u30C0\u30E1"},{id:5,name:"\u53CD\u6483\u30C0\u30E1"},{id:6,name:"\u4EF2\u9593\u30C0\u30E1"},{id:7,name:"\u6280\u80FD\u30C0\u30E1"},{id:8,name:"\u6280\u80FD\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:9,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:10,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:11,name:"\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1"},{id:12,name:"\u30C0\u30A6\u30F3"},{id:13,name:"\u56DE\u907F"},{id:14,name:"\u56DE\u907F\u7121\u8996"},{id:15,name:"\u6253\u3061\u4E0A\u3052"},{id:16,name:"\u30C0\u30A6\u30F3\u7121\u8996"},{id:17,name:"\u6253\u3061\u4E0A\u3052\u7121\u8996"},{id:18,name:"\u6CBB\u7652\u91CF"},{id:19,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:20,name:"\u901A\u5E38\u30C0\u30E1"},{id:21,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:22,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8"},{id:23,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}];function wn(){let n=document.getElementById("enchantment-sub-list");n.innerHTML="",ve.forEach(e=>{let t=document.createElement("div");t.classList.add("enchantment-sub-option-item"),t.textContent=e.name,t.dataset.id=String(e.id),n.appendChild(t)}),o(n,"click",Hn)}function Hn(n){let e=n.target;e.classList.contains("enchantment-sub-option-item")&&(e.classList.toggle("selected"),Rn())}function Rn(){let n=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".enchantment-sub-option-item.selected")).map(i=>i.dataset.id);e.length>0?n.set(E,e.join(",")):n.delete(E);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function An(){let e=new URLSearchParams(window.location.search).get(E)?.split(",")||[];document.querySelectorAll(".enchantment-sub-option-item").forEach(i=>{let a=i.dataset.id;ve.find(s=>a===String(s.id)&&e.includes(String(s.id)))?i.classList.add("selected"):i.classList.remove("selected")})}function be(){wn(),An()}var S="enchantment-sets",f="enchantment-main",E="enchantment-sub";function we(){Ie(),ke(),be();let n=document.getElementById("reset-enchantments-btn");o(n,"click",()=>{m([S,f,E],"\u795E\u5668\u4ED8\u9B54")})}var He=[{id:1,name:"\u30C9\u30C7\u30AB\u30D6\u30BF\u30C3\u30AF",icon:"icons/mounts/1.jpg"},{id:2,name:"\u30E6\u30CB\u30B3\u30FC\u30F3",icon:"icons/mounts/2.jpg"},{id:3,name:"\u6EB6\u5CA9\u9B54\u9F8D",icon:"icons/mounts/3.jpg"},{id:4,name:"\u8056\u5149\u9B54\u7ADC",icon:"icons/mounts/4.jpg"},{id:5,name:"\u7D2B\u7FFC",icon:"icons/mounts/5.jpg"},{id:6,name:"\u6D6E\u304D\u6D6E\u304D\u96F2",icon:"icons/mounts/6.jpg"},{id:7,name:"\u7389\u514E1\u53F7",icon:"icons/mounts/7.jpg"},{id:8,name:"\u8A69\u3068\u5F80\u304F",icon:"icons/mounts/8.jpg"},{id:9,name:"\u904A\u9B5A\u7D19\u9CF6",icon:"icons/mounts/9.jpg"},{id:10,name:"\u30AA\u30FC\u30C8\u30D0\u30A4\u30AF",icon:"icons/mounts/10.jpg"},{id:11,name:"\u70C8\u7114\u30D0\u30A4\u30AF",icon:"icons/mounts/11.jpg"},{id:12,name:"\u6708\u4E0B\u6E7E",icon:"icons/mounts/12.jpg"},{id:13,name:"\u767E\u5909\u30B9\u30E9\u30A4\u30E0",icon:"icons/mounts/13.jpg"},{id:14,name:"\u96EA\u591C\u30E8\u30E8",icon:"icons/mounts/14.jpg"},{id:15,name:"\u5FC3\u306E\u8D74\u304F\u307E\u307E\u306B",icon:"icons/mounts/15.jpg"},{id:16,name:"\u30B9\u30A4\u30AB\u30D5\u30ED\u30FC\u30C8",icon:"icons/mounts/16.jpg"},{id:17,name:"\u30C0\u30C3\u30AD\u30F3\u30B0",icon:"icons/mounts/17.jpg"},{id:18,name:"\u30C7\u30F3\u30C7\u30F3\u30ED\u30FC\u30E9\u30FC",icon:"icons/mounts/18.jpg"},{id:19,name:"\u5E7D\u3005\u30AB\u30DC\u30C1\u30E3\u8ECA",icon:"icons/mounts/19.jpg"},{id:20,name:"\u30B0\u30E9\u30CB",icon:"icons/mounts/20.jpg"},{id:21,name:"\u30D9\u30D2\u30FC\u30E2\u30B9",icon:"icons/mounts/21.jpg"},{id:22,name:"\u9B54\u6CD5\u306E\u66F8",icon:"icons/mounts/22.jpg"},{id:23,name:"\u53CC\u86D9\u30D6\u30EB\u30D6\u30EB",icon:"icons/mounts/23.jpg"},{id:24,name:"\u96EA\u4E2D\u8A2A\u554F\u8005",icon:"icons/mounts/24.jpg"},{id:25,name:"\u30BF\u30A4\u30E0\u30DE\u30B7\u30F3",icon:"icons/mounts/25.jpg"},{id:26,name:"\u711A\u5BC2\u7834\u5FC3",icon:"icons/mounts/26.jpg"},{id:27,name:"\u98A8\u706B\u8F2A",icon:"icons/mounts/27.jpg"},{id:28,name:"\u767D\u864E",icon:"icons/mounts/28.jpg"},{id:29,name:"\u9752\u725B\u30E2\u30FC\u30E2\u30FC",icon:"icons/mounts/29.jpg"},{id:30,name:"\u9752\u306E\u5973\u738B",icon:"icons/mounts/30.jpg"},{id:31,name:"\u4E38\u3005\u86D9",icon:"icons/mounts/31.jpg"},{id:32,name:"\u30E9\u30E0\u9152\u6A3D",icon:"icons/mounts/32.jpg"},{id:33,name:"\u30AC\u30C3\u30C4\u30A6\u30A3\u30F3\u30B01\u53F7",icon:"icons/mounts/33.jpg"}],W='<span class="icon empty"></span>';function Pn(){let n=document.getElementById("mount-list");n.innerHTML="",He.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>Un(e)),n.appendChild(t)}),w()}function Un(n){let e=document.getElementById("selected-mount");if(e.dataset.mountId===String(n.id))e.removeAttribute("data-mount-id"),e.innerHTML=W,z(null);else{e.dataset.mountId=String(n.id),e.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),o(i,"click",()=>{e.removeAttribute("data-mount-id"),e.innerHTML=W,w(),z(null)}),e.appendChild(i),z(n.id)}w()}function w(){document.querySelectorAll("#mount-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`#selected-mount[data-mount-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function z(n){let e=new URLSearchParams(window.location.search);n!==null?e.set(h,String(n)):e.delete(h);let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function Bn(){let e=new URLSearchParams(window.location.search).get(h),t=document.getElementById("selected-mount");if(e){t.dataset.mountId=e;let i=He.find(a=>a.id===parseInt(e,10));i&&(t.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else t.innerHTML=W,t.removeAttribute("data-mount-id");w()}function Re(){Pn(),Bn()}var Ae=[{id:1,name:"\u6DF7\u5143\u6B66\u8056\u69CC",icon:"icons/artifacts/1.jpg"},{id:2,name:"\u591C\u884C\u9D09\u773C\u306E\u938C",icon:"icons/artifacts/2.jpg"},{id:3,name:"\u98F4\u30AC\u30C8\u30EA\u30F3\u30B0",icon:"icons/artifacts/3.jpg"},{id:4,name:"\u958B\u5929\u306E\u5263",icon:"icons/artifacts/4.jpg"},{id:5,name:"\u5343\u5C64\u5854",icon:"icons/artifacts/5.jpg"},{id:6,name:"\u50B7\u5FC3\u5F0F\u8972\u6483",icon:"icons/artifacts/6.jpg"},{id:7,name:"\u4E21\u5203\u306E\u5F26",icon:"icons/artifacts/7.jpg"},{id:8,name:"\u52A0\u6E1B\u3092\u77E5\u308C",icon:"icons/artifacts/8.jpg"},{id:9,name:"\u30BB\u30A4\u30EC\u30FC\u30F3\u306E\u56C1\u304D",icon:"icons/artifacts/9.jpg"},{id:10,name:"\u5927\u30AC\u30A1\u30FC\u30F3\u30BD\u30FC",icon:"icons/artifacts/10.jpg"},{id:11,name:"\u9B54\u6CD5\u306E\u6756",icon:"icons/artifacts/11.jpg"},{id:12,name:"\u30D6\u30EB\u30C8\u30AC\u30F3\u30B0\uFF06\u30B0\u30F3\u30B0\u30CB\u30EB",icon:"icons/artifacts/12.jpg"},{id:13,name:"\u30D6\u30E9\u30B9\u30BF\u30FC",icon:"icons/artifacts/13.jpg"},{id:14,name:"\u30D3\u30EA\u30C3\u30C8\u30B9\u30C6\u30A3\u30C3\u30AF",icon:"icons/artifacts/14.jpg"},{id:15,name:"\u53E4\u57CE\u30ED\u30A6\u30BD\u30AF",icon:"icons/artifacts/15.jpg"},{id:16,name:"\u30C7\u30E1\u30C6\u30EB\u306E\u5203",icon:"icons/artifacts/16.jpg"},{id:17,name:"\u795E\u76FE\u971C\u706B",icon:"icons/artifacts/17.jpg"},{id:18,name:"\u84BC\u708E\u5FA1\u5B88\u5200",icon:"icons/artifacts/18.jpg"},{id:19,name:"\u30A6\u30EB\u30C8\u30E9\u30BC\u30ED\u30E9\u30F3\u30B9",icon:"icons/artifacts/19.jpg"}],Z='<span class="icon empty"></span>';function Cn(){let n=document.getElementById("artifact-list");n.innerHTML="",Ae.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>qn(e)),n.appendChild(t)}),H()}function qn(n){let e=document.getElementById("selected-artifact");if(e.dataset.artifactId===String(n.id))e.removeAttribute("data-artifact-id"),e.innerHTML=Z,V(null);else{e.dataset.artifactId=String(n.id),e.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),o(i,"click",()=>{e.removeAttribute("data-artifact-id"),e.innerHTML=Z,H(),V(null)}),e.appendChild(i),V(n.id)}H()}function H(){document.querySelectorAll("#artifact-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`#selected-artifact[data-artifact-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function V(n){let e=new URLSearchParams(window.location.search);n!==null?e.set(L,String(n)):e.delete(L);let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function Dn(){let e=new URLSearchParams(window.location.search).get(L),t=document.getElementById("selected-artifact");if(e){t.dataset.artifactId=e;let i=Ae.find(a=>a.id===parseInt(e,10));i&&(t.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else t.innerHTML=Z,t.removeAttribute("data-artifact-id");H()}function Pe(){Cn(),Dn()}var Ue=[{id:1,name:"\u91D1\u5149\u306E\u98DB\u7FBD",icon:"icons/back_accessories/1.jpg"},{id:2,name:"\u7FBD\u878D\u6708\u7159",icon:"icons/back_accessories/2.jpg"},{id:3,name:"\u9752\u5C71\u5165\u8272",icon:"icons/back_accessories/3.jpg"},{id:4,name:"\u5263\u9B44\u51CC\u98A8",icon:"icons/back_accessories/4.jpg"},{id:5,name:"\u6607\u9F8D\u8ECC\u8DE1",icon:"icons/back_accessories/5.jpg"},{id:6,name:"\u865A\u73FE\u9023\u7D50",icon:"icons/back_accessories/6.jpg"},{id:7,name:"\u5B87\u5B99\u304B\u3089\u306E\u6765\u8A2A\u8005",icon:"icons/back_accessories/7.jpg"},{id:8,name:"\u4ECA\u6669\u306E\u98DF\u6750",icon:"icons/back_accessories/8.jpg"},{id:9,name:"\u8776\u306E\u7FBD\u5316",icon:"icons/back_accessories/9.jpg"},{id:10,name:"\u30B5\u30DE\u30FC\u30D1\u30E9\u30BD\u30EB",icon:"icons/back_accessories/10.jpg"},{id:11,name:"\u30C8\u30D3\u30DE\u30B9\u30AB\u30A4",icon:"icons/back_accessories/11.jpg"},{id:12,name:"\u80CC\u5F8C\u970A",icon:"icons/back_accessories/12.jpg"},{id:13,name:"\u5815\u843D\u306E\u5929\u4F7F",icon:"icons/back_accessories/13.jpg"},{id:14,name:"\u7363\u9AA8\u9038\u98A8",icon:"icons/back_accessories/14.jpg"},{id:15,name:"\u6642\u306E\u30D7\u30EA\u30BA\u30E0",icon:"icons/back_accessories/15.jpg"},{id:16,name:"\u30C7\u30E5\u30FC\u30AF\u30E2\u30F3\uFF1A\u30AF\u30EA\u30E0\u30BE\u30F3\u30E2\u30FC\u30C9\u306E\u7FFC",icon:"icons/back_accessories/16.jpg"},{id:17,name:"\u30D9\u30EB\u30BC\u30D6\u30E2\u30F3\uFF1A\u30D6\u30E9\u30B9\u30C8\u30E2\u30FC\u30C9\u306E\u7FFC",icon:"icons/back_accessories/17.jpg"},{id:18,name:"\u9B54\u6CD5\u9663",icon:"icons/back_accessories/18.jpg"},{id:19,name:"\u30B1\u30ED\u30B9\u30E9\u30B9\u30BF\u30FC",icon:"icons/back_accessories/19.jpg"},{id:20,name:"\u9AA8\u7ADC\u9320",icon:"icons/back_accessories/20.jpg"},{id:21,name:"\u96EA\u5F71\u5E7D\u970A",icon:"icons/back_accessories/21.jpg"}],ne='<span class="icon empty"></span>';function xn(){let n=document.getElementById("back-accessory-list");n.innerHTML="",Ue.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>_n(e)),n.appendChild(t)}),R()}function _n(n){let e=document.getElementById("selected-back-accessory");if(e.dataset.backAccessoryId===String(n.id))e.removeAttribute("data-back-accessory-id"),e.innerHTML=ne,ee(null);else{e.dataset.backAccessoryId=String(n.id),e.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),o(i,"click",()=>{e.removeAttribute("data-back-accessory-id"),e.innerHTML=ne,R(),ee(null)}),e.appendChild(i),ee(n.id)}R()}function R(){document.querySelectorAll("#back-accessory-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`#selected-back-accesory[data-back-accessory-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function ee(n){let e=new URLSearchParams(window.location.search);n!==null?e.set(y,String(n)):e.delete(y);let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function $n(){let e=new URLSearchParams(window.location.search).get(y),t=document.getElementById("selected-back-accessory");if(e){t.dataset.backAccessoryId=e;let i=Ue.find(a=>a.id===parseInt(e,10));i&&(t.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else t.innerHTML=ne,t.removeAttribute("data-back-accessory-id");R()}function Be(){xn(),$n()}var h="mount",L="artifact",y="back-accessory";function Ce(){Re(),Pe(),Be();let n=document.getElementById("reset-mounts-artifacts-back-accessories-btn");o(n,"click",()=>{m([h,L,y],"\u9A0E\u4E57&\u795E\u5668&\u80CC\u98FE\u308A")})}var qe=[{id:1,name:"\u597D\u6226\u30A2\u30F3\u30CB\u30F3",icon:"icons/avians/1.jpg"},{id:2,name:"\u5FAE\u5149\u30ED\u30A6\u30BD\u30AF",icon:"icons/avians/2.jpg"},{id:3,name:"\u30E4\u30B7\u30DC\u30FC\u30EB",icon:"icons/avians/3.jpg"},{id:4,name:"\u3082\u3053\u3082\u3053\u30E1\u30A7",icon:"icons/avians/4.jpg"},{id:5,name:"\u30C8\u30DE\u30BF\u30DE\u7092\u3081",icon:"icons/avians/5.jpg"},{id:6,name:"AI\u52A9\u624B",icon:"icons/avians/6.jpg"},{id:7,name:"\u4E73\u9178\u30B3\u30B3\u30A2",icon:"icons/avians/7.jpg"},{id:8,name:"\u885D\u6483\u30DA\u30F3\u30AE\u30F3",icon:"icons/avians/8.jpg"},{id:9,name:"\u7A4D\u96E8\u96F2",icon:"icons/avians/9.jpg"},{id:10,name:"\u4E09\u9023\u5C04\u624B",icon:"icons/avians/10.jpg"},{id:11,name:"\u30EA\u30F3\u30EA\u30F3\u30D9\u30EB",icon:"icons/avians/11.jpg"},{id:12,name:"\u6674\u5929\u306E\u4F7F\u8005",icon:"icons/avians/12.jpg"},{id:13,name:"\u65C5\u30AF\u30E9\u30B2",icon:"icons/avians/13.jpg"},{id:14,name:"\u8FF7\u98A8\u306E\u8449",icon:"icons/avians/14.jpg"},{id:15,name:"\u30C1\u30E7\u30D3\u86FE",icon:"icons/avians/15.jpg"},{id:16,name:"\u4E73\u9178\u98DB\u884C\u58EB",icon:"icons/avians/16.jpg"},{id:17,name:"\u30A2\u30CC\u30D3\u30B9",icon:"icons/avians/17.jpg"},{id:18,name:"\u86CD\u591C\u30C8\u30C8",icon:"icons/avians/18.jpg"},{id:19,name:"\u6708\u7E1B\u970A",icon:"icons/avians/19.jpg"},{id:20,name:"\u9CE5\u795E\u30DB\u30EB\u30B9",icon:"icons/avians/20.jpg"},{id:21,name:"\u307E\u307B\u306B\u3083\u3093",icon:"icons/avians/21.jpg"},{id:22,name:"\u3059\u3044\u3061\u3083\u3093",icon:"icons/avians/22.jpg"},{id:23,name:"\u306B\u3083\u3093\u3077\u3046",icon:"icons/avians/23.jpg"},{id:24,name:"\u30DF\u30B7\u30A7\u30EB",icon:"icons/avians/24.jpg"},{id:25,name:"Teal",icon:"icons/avians/25.jpg"},{id:26,name:"Pinky",icon:"icons/avians/26.jpg"},{id:27,name:"B.Duck",icon:"icons/avians/27.jpg"},{id:28,name:"\u30D5\u30AF\u30ED\u30A6",icon:"icons/avians/28.jpg"},{id:29,name:"\u9583\u5149\u30D5\u30AF\u30ED\u30A6",icon:"icons/avians/29.jpg"},{id:30,name:"\u30AF\u30EF\u30B8\u30FC\u30ED",icon:"icons/avians/30.jpg"},{id:31,name:"\u30B7\u30E3\u30FC\u30AF\u30E9\u30FC",icon:"icons/avians/31.jpg"},{id:32,name:"\u30AC\u30CB\u30E9\u30F3",icon:"icons/avians/32.jpg"},{id:33,name:"\u30AE\u30EB\u30E2\u30F3",icon:"icons/avians/33.jpg"},{id:34,name:"\u30A4\u30F3\u30D7\u30E2\u30F3",icon:"icons/avians/34.jpg"},{id:35,name:"\u30C7\u30E5\u30FC\u30AF\u30E2\u30F3",icon:"icons/avians/35.jpg"},{id:36,name:"\u30E1\u30AE\u30C9\u30E9\u30E2\u30F3",icon:"icons/avians/36.jpg"},{id:37,name:"\u30D9\u30EB\u30BC\u30D6\u30E2\u30F3",icon:"icons/avians/37.jpg"}],ie='<span class="icon empty"></span>',A="avian";function Yn(){let n=document.getElementById("avian-list");n.innerHTML="",qe.forEach(e=>{let t=document.createElement("img");t.src=e.icon,t.alt=e.name,t.classList.add("icon"),t.dataset.id=String(e.id),o(t,"click",()=>On(e)),n.appendChild(t)}),P()}function On(n){let e=document.getElementById("selected-avian");if(e.dataset.avianId===String(n.id))e.removeAttribute("data-avian-id"),e.innerHTML=ie,te(null);else{e.dataset.avianId=String(n.id),e.innerHTML="";let i=document.createElement("img");i.src=n.icon,i.alt=n.name,i.classList.add("icon"),o(i,"click",()=>{e.removeAttribute("data-avian-id"),e.innerHTML=ie,P(),te(null)}),e.appendChild(i),te(n.id)}P()}function P(){document.querySelectorAll("#avian-list .icon").forEach(n=>{let e=n.dataset.id;document.querySelector(`#selected-avian[data-avian-id="${e}"]`)?n.classList.add("selected"):n.classList.remove("selected")})}function te(n){let e=new URLSearchParams(window.location.search);n!==null?e.set(A,String(n)):e.delete(A);let t=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",t)}function Nn(){let e=new URLSearchParams(window.location.search).get(A),t=document.getElementById("selected-avian");if(e){t.dataset.avianId=e;let i=qe.find(a=>a.id===parseInt(e,10));i&&(t.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else t.innerHTML=ie,t.removeAttribute("data-avian-id");P()}function De(){Yn(),Nn();let n=document.getElementById("reset-avian-btn");o(n,"click",()=>{m([A],"\u30DA\u30C3\u30C8")})}function j(){ce(),me(),pe(),Se(),de(),ye(),je(),we(),Ce(),De()}function xe(){document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{let e=n.getAttribute("data-target");if(e){let t=document.querySelector(e);if(t){let i=t.offsetTop-50;window.scrollTo({top:i,behavior:"smooth"})}}})})}function _e(){window.addEventListener("scroll",()=>{let n=window.scrollY+60;document.querySelectorAll("section").forEach(e=>{let t=e.getAttribute("id");if(t){let i=e.offsetTop,a=e.offsetHeight;if(n>=i&&n<i+a){document.querySelectorAll(".tab").forEach(s=>{s.classList.remove("active")});let c=document.querySelector(`[data-target="#${t}"]`);c&&c.classList.add("active")}}})})}window.addEventListener("load",()=>{j(),xe(),_e()});})();
//# sourceMappingURL=index.js.map

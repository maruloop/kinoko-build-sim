"use strict";(()=>{var c=[{id:1,name:"\u56DE\u5FA9",count:0},{id:2,name:"\u56DE\u907F",count:0},{id:3,name:"\u30C0\u30A6\u30F3",count:0},{id:4,name:"\u9023\u6483",count:0},{id:5,name:"\u53CD\u6483",count:0},{id:6,name:"\u4F1A\u5FC3",count:0},{id:7,name:"\u4EF2\u9593\u9023\u6483",count:0},{id:8,name:"\u4EF2\u9593\u4F1A\u5FC3",count:0},{id:9,name:"\u6280\u80FD\u4F1A\u5FC3",count:0}],S=20,a=0,p="weapons";function h(){let n=document.getElementById("weapons-option-list");if(!n)throw new Error("weaponList could not be found.");return n}function k(){let n=h();n.innerHTML="";let e=document.getElementById("weapons-total-count");c.forEach((i,t)=>{let s=document.createElement("div");s.classList.add("weapons-option-item"),s.innerHTML=`
      <span class="weapons-option-name">${i.name}</span>
      <div class="weapons-counter">
        <button data-index="${t}" data-action="decrease">-</button>
        <span>${i.count}</span>
        <button data-index="${t}" data-action="increase">+</button>
      </div>
    `,n.appendChild(s)}),e.textContent=`${a}`,U()}function U(){let n=new URLSearchParams(window.location.search),e=c.filter(t=>t.count>0).map(t=>`${t.id}:${t.count}`).join(",");e?n.set(p,e):n.delete(p);let i=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",i)}function x(){let e=new URLSearchParams(window.location.search).get(p)?.split(",")||[];a=0,e.forEach(i=>{let[t,s]=i.split(":"),l=parseInt(t),d=parseInt(s),g=c.find(r=>r.id===l);if(g&&!isNaN(d)){let r=S-a,f=Math.min(d,10,r);g.count=f,a+=f}})}function w(){x(),k();let n=h();n.dataset.listener||(n.addEventListener("click",e=>{let i=e.target,t=i.dataset.action,s=Number(i.dataset.index);t&&s!==void 0&&(t==="increase"&&a<S&&c[s].count<10?(c[s].count++,a++):t==="decrease"&&c[s].count>0&&(c[s].count--,a--),k())}),n.dataset.listener="true")}var j=[{id:1,name:"\u80DE\u5B50\u7206\u5F3E",icon:"icons/skills/1.jpg"},{id:2,name:"\u83CC\u8338\u982D\u6253",icon:"icons/skills/2.jpg"},{id:3,name:"\u80DE\u5B50\u9023\u6483",icon:"icons/skills/3.jpg"},{id:4,name:"\u5DE8\u77F3\u885D\u6483",icon:"icons/skills/4.jpg"},{id:5,name:"\u30C8\u30B2\u8302\u307F",icon:"icons/skills/5.jpg"},{id:6,name:"\u30AD\u30CE\u5148\u99C6",icon:"icons/skills/6.jpg"},{id:7,name:"\u30C4\u30BF\u7E1B\u308A",icon:"icons/skills/7.jpg"},{id:8,name:"\u75BE\u99C6\u83CC\u8338",icon:"icons/skills/8.jpg"},{id:9,name:"\u8718\u86DB\u306E\u5DE3",icon:"icons/skills/9.jpg"},{id:10,name:"\u843D\u30D1\u30A4\u30F3",icon:"icons/skills/10.jpg"},{id:11,name:"\u8C9D\u6069\u8FD4\u3057",icon:"icons/skills/11.jpg"},{id:12,name:"\u30C4\u30BF\u7E41\u8302",icon:"icons/skills/12.jpg"},{id:13,name:"\u8759\u8760\u884C\u65B9",icon:"icons/skills/13.jpg"},{id:14,name:"\u5927\u5730\u56DE\u5FA9",icon:"icons/skills/14.jpg"},{id:15,name:"\u83CC\u30D0\u30EA\u30A2",icon:"icons/skills/15.jpg"},{id:16,name:"\u30C9\u30EA\u7206\u5F3E",icon:"icons/skills/16.jpg"},{id:17,name:"\u53CD\u5247\u6253\u6483",icon:"icons/skills/17.jpg"},{id:18,name:"\u901F\u5EA6\u6696\u6162",icon:"icons/skills/18.jpg"},{id:19,name:"\u30B3\u30A4\u30F3\u7206\u5F3E",icon:"icons/skills/19.jpg"},{id:20,name:"\u30B9\u30E9\u30A4\u5F3E",icon:"icons/skills/20.jpg"},{id:21,name:"\u6D41\u661F\u843D\u5F3E",icon:"icons/skills/21.jpg"},{id:22,name:"\u6B66\u88C5\u89E3\u9664",icon:"icons/skills/22.jpg"},{id:23,name:"\u76EE\u7729\u5931\u795E",icon:"icons/skills/23.jpg"},{id:24,name:"\u7159\u5E55\u5F3E",icon:"icons/skills/24.jpg"},{id:25,name:"\u7121\u5E38\u72E9\u547D",icon:"icons/skills/25.jpg"},{id:26,name:"\u82F1\u9B42\u964D\u81E8",icon:"icons/skills/26.jpg"},{id:27,name:"\u72C2\u98A8\u901A\u9053",icon:"icons/skills/27.jpg"},{id:28,name:"\u7A32\u59BB\u5947\u8972",icon:"icons/skills/28.jpg"},{id:29,name:"\u5229\u5203\u8CAB\u901A",icon:"icons/skills/29.jpg"},{id:30,name:"\u5206\u8EAB\u653B\u6483",icon:"icons/skills/30.jpg"},{id:31,name:"\u767E\u65AC\u5343\u9396",icon:"icons/skills/31.jpg"},{id:32,name:"\u98A8\u795E\u306E\u77E2",icon:"icons/skills/32.jpg"},{id:33,name:"\u8840\u6708\u964D\u81E8",icon:"icons/skills/33.jpg"},{id:34,name:"\u7ADC\u541F\u53CC\u58F0",icon:"icons/skills/34.jpg"},{id:35,name:"\u5929\u4E0B\u306E\u7F60",icon:"icons/skills/35.jpg"},{id:36,name:"\u30BF\u30ED\u30C3\u30C8\u661F\u9663",icon:"icons/skills/36.jpg"},{id:37,name:"\u9CF6\u8776\u5165\u5922",icon:"icons/skills/37.jpg"},{id:38,name:"\u7956\u795E\u306E\u610F\u601D",icon:"icons/skills/38.jpg"}],o=[],L=5,m="skills";function y(){let n=document.getElementById("skills-list");n.innerHTML="",j.forEach(e=>{let i=document.createElement("img");i.src=e.icon,i.classList.add("skill-icon"),i.dataset.id=String(e.id),i.alt=e.name,i.addEventListener("click",()=>H(e)),n.appendChild(i)})}function u(){let n=document.getElementById("selected-skills");n.innerHTML="",o.forEach(e=>{let i=document.createElement("img");i.src=e.icon,i.classList.add("skill-icon","selected"),i.dataset.id=String(e.id),i.alt=e.name,i.addEventListener("click",()=>E(e)),n.appendChild(i)}),A(),M()}function H(n){o.some(i=>i.id===n.id)?E(n):o.length<L&&(o.push(n),u())}function E(n){let e=o.findIndex(i=>i.id===n.id);e>-1&&(o.splice(e,1),u())}function M(){let n=new URLSearchParams(window.location.search),e=o.map(t=>t.id).join(",");e?n.set(m,e):n.delete(m);let i=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",i)}function A(){document.querySelectorAll(".skill-icon").forEach(n=>{let e=Number(n.dataset.id);o.some(i=>i.id===e)?n.classList.add("selected"):n.classList.remove("selected")})}function R(){(new URLSearchParams(window.location.search).get(m)?.split(",").map(i=>parseInt(i))||[]).forEach(i=>{if(o.length<L){let t=j.find(s=>s.id===i);t&&o.push(t)}}),u()}function T(){R(),y()}function v(){w(),T()}function I(){document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{let e=n.getAttribute("data-target");if(e){let i=document.querySelector(e);if(i){let t=i.offsetTop-50;window.scrollTo({top:t,behavior:"smooth"})}}})})}function b(){window.addEventListener("scroll",()=>{let n=window.scrollY+60;document.querySelectorAll("section").forEach(e=>{let i=e.getAttribute("id");if(i){let t=e.offsetTop,s=e.offsetHeight;if(n>=t&&n<t+s){document.querySelectorAll(".tab").forEach(d=>{d.classList.remove("active")});let l=document.querySelector(`[data-target="#${i}"]`);l&&l.classList.add("active")}}})})}window.addEventListener("load",()=>{v(),I(),b()});})();
//# sourceMappingURL=index.js.map

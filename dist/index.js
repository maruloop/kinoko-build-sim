"use strict";(()=>{var E=[{id:1,name:"\u6B66\u8056",palLimit:5},{id:2,name:"\u6226\u795E",palLimit:5},{id:3,name:"\u8056\u72E9",palLimit:5},{id:4,name:"\u7FBD\u7687",palLimit:5},{id:5,name:"\u5148\u77E5",palLimit:5},{id:6,name:"\u9B54\u738B",palLimit:5},{id:7,name:"\u7363\u738B",palLimit:6},{id:8,name:"\u970A\u5C0A",palLimit:6}],w="job",S=E[0],A=document.querySelectorAll('input[name="job"]');A.forEach(n=>{n.addEventListener("change",t=>{let e=t.target,i=parseInt(e.value,10);$(i)})});function P(){let n=new URLSearchParams(window.location.search);n.set(w,String(S.id));let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}function $(n){let t=E.find(e=>e.id===n);t&&(S=t,P())}function C(){let n=new URLSearchParams(window.location.search),t=parseInt(n.get(w)||"1",10),e=E.find(i=>i.id===t);e&&(S=e,J(t))}function J(n){let t=document.querySelector(`input[name="job"][value="${n}"]`);t&&(t.checked=!0)}function q(){C()}var u=null,d=document.createElement("div");d.innerHTML=`
  <div class="modal-content">
    <p>\u672C\u5F53\u306B\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F</p>
    <button id="confirm-yes">\u306F\u3044</button>
    <button id="confirm-no">\u30AD\u30E3\u30F3\u30BB\u30EB</button>
  </div>
`;d.classList.add("modal");document.body.appendChild(d);var Y=d.querySelector("#confirm-yes"),D=d.querySelector("#confirm-no");function p(n,t){u=n,d.querySelector("p").textContent=`${t}\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F`,d.style.display="block"}function y(){d.style.display="none",u=null}function N(){if(u){let n=new URLSearchParams(window.location.search);n.delete(u);let t=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",t)}}Y.addEventListener("click",()=>{N(),f(),y()});D.addEventListener("click",y);var r=[{id:1,name:"\u56DE\u5FA9",count:0},{id:2,name:"\u56DE\u907F",count:0},{id:3,name:"\u30C0\u30A6\u30F3",count:0},{id:4,name:"\u9023\u6483",count:0},{id:5,name:"\u53CD\u6483",count:0},{id:6,name:"\u4F1A\u5FC3",count:0},{id:7,name:"\u4EF2\u9593\u9023\u6483",count:0},{id:8,name:"\u4EF2\u9593\u4F1A\u5FC3",count:0},{id:9,name:"\u6280\u80FD\u4F1A\u5FC3",count:0}],g=20,c=0,k="equipments";function I(){let n=document.getElementById("equipments-option-list");if(!n)throw new Error("equipmentList could not be found.");return n}function v(){let n=I();n.innerHTML="";let t=document.getElementById("equipments-total-count");r.forEach((e,i)=>{let o=document.createElement("div");o.classList.add("equipments-option-item"),o.innerHTML=`
      <span class="equipments-option-name">${e.name}</span>
      <div class="equipments-counter">
        <button data-index="${i}" data-action="decrease10">-10</button>
        <button data-index="${i}" data-action="decrease">-</button>
        <span>${e.count}</span>
        <button data-index="${i}" data-action="increase">+</button>
        <button data-index="${i}" data-action="increase10">+10</button>
      </div>
    `,n.appendChild(o)}),t.textContent=`${c}`,O()}function O(){let n=new URLSearchParams(window.location.search),t=r.filter(i=>i.count>0).map(i=>`${i.id}:${i.count}`).join(",");t?n.set(k,t):n.delete(k);let e=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",e)}function _(){let t=new URLSearchParams(window.location.search).get(k)?.split(",")||[];r.forEach(e=>{e.count=0}),c=0,t.forEach(e=>{let[i,o]=e.split(":"),s=parseInt(i),l=parseInt(o),m=r.find(h=>h.id===s);if(m&&!isNaN(l)){let h=g-c,j=Math.min(l,10,h);m.count=j,c+=j}})}function T(){_(),v();let n=I();n.dataset.listener||(n.addEventListener("click",t=>{let e=t.target,i=e.dataset.action,o=Number(e.dataset.index);if(i&&o!==void 0){let s=r[o];if(i==="increase"&&c<g&&r[o].count<10)s.count++,c++;else if(i==="decrease"&&r[o].count>0)s.count--,c--;else if(i==="increase10"&&c<g){let l=g-c,m=Math.min(10,l,10-s.count);s.count+=m,c+=m}else if(i==="decrease10"&&s.count>0){let l=Math.min(10,s.count);s.count-=l,c-=l}v()}}),n.dataset.listener="true")}var K=document.getElementById("reset-equipments-btn");K.addEventListener("click",()=>{p(k,"\u88C5\u5099")});var M=[{id:1,name:"\u80DE\u5B50\u7206\u5F3E",icon:"icons/skills/1.jpg"},{id:2,name:"\u83CC\u8338\u982D\u6253",icon:"icons/skills/2.jpg"},{id:3,name:"\u80DE\u5B50\u9023\u6483",icon:"icons/skills/3.jpg"},{id:4,name:"\u5DE8\u77F3\u885D\u6483",icon:"icons/skills/4.jpg"},{id:5,name:"\u30C8\u30B2\u8302\u307F",icon:"icons/skills/5.jpg"},{id:6,name:"\u30AD\u30CE\u5148\u99C6",icon:"icons/skills/6.jpg"},{id:7,name:"\u30C4\u30BF\u7E1B\u308A",icon:"icons/skills/7.jpg"},{id:8,name:"\u75BE\u99C6\u83CC\u8338",icon:"icons/skills/8.jpg"},{id:9,name:"\u8718\u86DB\u306E\u5DE3",icon:"icons/skills/9.jpg"},{id:10,name:"\u843D\u30D1\u30A4\u30F3",icon:"icons/skills/10.jpg"},{id:11,name:"\u8C9D\u6069\u8FD4\u3057",icon:"icons/skills/11.jpg"},{id:12,name:"\u30C4\u30BF\u7E41\u8302",icon:"icons/skills/12.jpg"},{id:13,name:"\u8759\u8760\u884C\u65B9",icon:"icons/skills/13.jpg"},{id:14,name:"\u5927\u5730\u56DE\u5FA9",icon:"icons/skills/14.jpg"},{id:15,name:"\u83CC\u30D0\u30EA\u30A2",icon:"icons/skills/15.jpg"},{id:16,name:"\u30C9\u30EA\u7206\u5F3E",icon:"icons/skills/16.jpg"},{id:17,name:"\u53CD\u5247\u6253\u6483",icon:"icons/skills/17.jpg"},{id:18,name:"\u901F\u5EA6\u6696\u6162",icon:"icons/skills/18.jpg"},{id:19,name:"\u30B3\u30A4\u30F3\u7206\u5F3E",icon:"icons/skills/19.jpg"},{id:20,name:"\u30B9\u30E9\u30A4\u5F3E",icon:"icons/skills/20.jpg"},{id:21,name:"\u6D41\u661F\u843D\u5F3E",icon:"icons/skills/21.jpg"},{id:22,name:"\u6B66\u88C5\u89E3\u9664",icon:"icons/skills/22.jpg"},{id:23,name:"\u76EE\u7729\u5931\u795E",icon:"icons/skills/23.jpg"},{id:24,name:"\u7159\u5E55\u5F3E",icon:"icons/skills/24.jpg"},{id:25,name:"\u7121\u5E38\u72E9\u547D",icon:"icons/skills/25.jpg"},{id:26,name:"\u82F1\u9B42\u964D\u81E8",icon:"icons/skills/26.jpg"},{id:27,name:"\u72C2\u98A8\u901A\u9053",icon:"icons/skills/27.jpg"},{id:28,name:"\u7A32\u59BB\u5947\u8972",icon:"icons/skills/28.jpg"},{id:29,name:"\u5229\u5203\u8CAB\u901A",icon:"icons/skills/29.jpg"},{id:30,name:"\u5206\u8EAB\u653B\u6483",icon:"icons/skills/30.jpg"},{id:31,name:"\u767E\u65AC\u5343\u9396",icon:"icons/skills/31.jpg"},{id:32,name:"\u98A8\u795E\u306E\u77E2",icon:"icons/skills/32.jpg"},{id:33,name:"\u8840\u6708\u964D\u81E8",icon:"icons/skills/33.jpg"},{id:34,name:"\u7ADC\u541F\u53CC\u58F0",icon:"icons/skills/34.jpg"},{id:35,name:"\u5929\u4E0B\u306E\u7F60",icon:"icons/skills/35.jpg"},{id:36,name:"\u30BF\u30ED\u30C3\u30C8\u661F\u9663",icon:"icons/skills/36.jpg"},{id:37,name:"\u9CF6\u8776\u5165\u5922",icon:"icons/skills/37.jpg"},{id:38,name:"\u7956\u795E\u306E\u610F\u601D",icon:"icons/skills/38.jpg"}],a=[],U=5,L="skills";function Q(){let n=document.getElementById("skills-list");n.innerHTML="",M.forEach(t=>{let e=document.createElement("img");e.src=t.icon,e.classList.add("skill-icon"),e.dataset.id=String(t.id),e.alt=t.name,e.addEventListener("click",()=>F(t)),n.appendChild(e)})}function b(){let n=document.getElementById("selected-skills");n.innerHTML="",a.forEach(t=>{let e=document.createElement("img");e.src=t.icon,e.classList.add("skill-icon","selected"),e.dataset.id=String(t.id),e.alt=t.name,e.addEventListener("click",()=>R(t)),n.appendChild(e)}),z(),X()}function F(n){a.some(e=>e.id===n.id)?R(n):a.length<U&&(a.push(n),b())}function R(n){let t=a.findIndex(e=>e.id===n.id);t>-1&&(a.splice(t,1),b())}function X(){let n=new URLSearchParams(window.location.search),t=a.map(i=>i.id).join(",");t?n.set(L,t):n.delete(L);let e=n.toString()?"?"+n.toString():window.location.pathname;history.replaceState(null,"",e)}function z(){document.querySelectorAll(".skill-icon").forEach(n=>{let t=Number(n.dataset.id);a.some(e=>e.id===t)?n.classList.add("selected"):n.classList.remove("selected")})}function G(){let t=new URLSearchParams(window.location.search).get(L)?.split(",").map(e=>parseInt(e))||[];a.length=0,t.forEach(e=>{if(a.length<U){let i=M.find(o=>o.id===e);i&&a.push(i)}}),b()}function H(){G(),Q()}var V=document.getElementById("reset-skills-btn");V.addEventListener("click",()=>{p(L,"\u6280\u80FD")});function f(){q(),T(),H()}function x(){document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{let t=n.getAttribute("data-target");if(t){let e=document.querySelector(t);if(e){let i=e.offsetTop-50;window.scrollTo({top:i,behavior:"smooth"})}}})})}function B(){window.addEventListener("scroll",()=>{let n=window.scrollY+60;document.querySelectorAll("section").forEach(t=>{let e=t.getAttribute("id");if(e){let i=t.offsetTop,o=t.offsetHeight;if(n>=i&&n<i+o){document.querySelectorAll(".tab").forEach(l=>{l.classList.remove("active")});let s=document.querySelector(`[data-target="#${e}"]`);s&&s.classList.add("active")}}})})}window.addEventListener("load",()=>{f(),x(),B()});})();
//# sourceMappingURL=index.js.map

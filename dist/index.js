"use strict";(()=>{var zt=Object.create;var Ke=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var Xt=Object.getOwnPropertyNames;var Zt=Object.getPrototypeOf,en=Object.prototype.hasOwnProperty;var tn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nn=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Xt(e))!en.call(t,a)&&a!==n&&Ke(t,a,{get:()=>e[a],enumerable:!(i=Vt(e,a))||i.enumerable});return t};var an=(t,e,n)=>(n=t!=null?zt(Zt(t)):{},nn(e||!t||!t.__esModule?Ke(n,"default",{value:t,enumerable:!0}):n,t));var xt=tn((ws,oe)=>{var Ce=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(s,c){if(!i[s]){i[s]={};for(var d=0;d<s.length;d++)i[s][s.charAt(d)]=d}return i[s][c]}var o={compressToBase64:function(s){if(s==null)return"";var c=o._compress(s,6,function(d){return e.charAt(d)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:o._decompress(s.length,32,function(c){return a(e,s.charAt(c))})},compressToUTF16:function(s){return s==null?"":o._compress(s,15,function(c){return t(c+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:o._decompress(s.length,16384,function(c){return s.charCodeAt(c)-32})},compressToUint8Array:function(s){for(var c=o.compress(s),d=new Uint8Array(c.length*2),r=0,f=c.length;r<f;r++){var g=c.charCodeAt(r);d[r*2]=g>>>8,d[r*2+1]=g%256}return d},decompressFromUint8Array:function(s){if(s==null)return o.decompress(s);for(var c=new Array(s.length/2),d=0,r=c.length;d<r;d++)c[d]=s[d*2]*256+s[d*2+1];var f=[];return c.forEach(function(g){f.push(t(g))}),o.decompress(f.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":o._compress(s,6,function(c){return n.charAt(c)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),o._decompress(s.length,32,function(c){return a(n,s.charAt(c))}))},compress:function(s){return o._compress(s,16,function(c){return t(c)})},_compress:function(s,c,d){if(s==null)return"";var r,f,g={},A={},R="",M="",T="",I=2,j=3,E=2,v=[],p=0,u=0,y;for(y=0;y<s.length;y+=1)if(R=s.charAt(y),Object.prototype.hasOwnProperty.call(g,R)||(g[R]=j++,A[R]=!0),M=T+R,Object.prototype.hasOwnProperty.call(g,M))T=M;else{if(Object.prototype.hasOwnProperty.call(A,T)){if(T.charCodeAt(0)<256){for(r=0;r<E;r++)p=p<<1,u==c-1?(u=0,v.push(d(p)),p=0):u++;for(f=T.charCodeAt(0),r=0;r<8;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1}else{for(f=1,r=0;r<E;r++)p=p<<1|f,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=0;for(f=T.charCodeAt(0),r=0;r<16;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1}I--,I==0&&(I=Math.pow(2,E),E++),delete A[T]}else for(f=g[T],r=0;r<E;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1;I--,I==0&&(I=Math.pow(2,E),E++),g[M]=j++,T=String(R)}if(T!==""){if(Object.prototype.hasOwnProperty.call(A,T)){if(T.charCodeAt(0)<256){for(r=0;r<E;r++)p=p<<1,u==c-1?(u=0,v.push(d(p)),p=0):u++;for(f=T.charCodeAt(0),r=0;r<8;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1}else{for(f=1,r=0;r<E;r++)p=p<<1|f,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=0;for(f=T.charCodeAt(0),r=0;r<16;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1}I--,I==0&&(I=Math.pow(2,E),E++),delete A[T]}else for(f=g[T],r=0;r<E;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1;I--,I==0&&(I=Math.pow(2,E),E++)}for(f=2,r=0;r<E;r++)p=p<<1|f&1,u==c-1?(u=0,v.push(d(p)),p=0):u++,f=f>>1;for(;;)if(p=p<<1,u==c-1){v.push(d(p));break}else u++;return v.join("")},decompress:function(s){return s==null?"":s==""?null:o._decompress(s.length,32768,function(c){return s.charCodeAt(c)})},_decompress:function(s,c,d){var r=[],f,g=4,A=4,R=3,M="",T=[],I,j,E,v,p,u,y,L={val:d(0),position:c,index:1};for(I=0;I<3;I+=1)r[I]=I;for(E=0,p=Math.pow(2,2),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;switch(f=E){case 0:for(E=0,p=Math.pow(2,8),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;y=t(E);break;case 1:for(E=0,p=Math.pow(2,16),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;y=t(E);break;case 2:return""}for(r[3]=y,j=y,T.push(y);;){if(L.index>s)return"";for(E=0,p=Math.pow(2,R),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;switch(y=E){case 0:for(E=0,p=Math.pow(2,8),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;r[A++]=t(E),y=A-1,g--;break;case 1:for(E=0,p=Math.pow(2,16),u=1;u!=p;)v=L.val&L.position,L.position>>=1,L.position==0&&(L.position=c,L.val=d(L.index++)),E|=(v>0?1:0)*u,u<<=1;r[A++]=t(E),y=A-1,g--;break;case 2:return T.join("")}if(g==0&&(g=Math.pow(2,R),R++),r[y])M=r[y];else if(y===A)M=j+j.charAt(0);else return null;T.push(M),r[A++]=j+M.charAt(0),g--,j=M,g==0&&(g=Math.pow(2,R),R++)}}};return o}();typeof define=="function"&&define.amd?define(function(){return Ce}):typeof oe<"u"&&oe!=null?oe.exports=Ce:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Ce})});function m(t,e,n){t.removeEventListener(e,n),t.addEventListener(e,n)}var Fe="title";function sn(t){let e=new URLSearchParams(window.location.search);e.set(Fe,t);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function on(){let t=document.getElementById("build-title"),n=new URLSearchParams(window.location.search).get(Fe);n&&(t.value=We(decodeURIComponent(n)))}function We(t){return t.replace(/[<>&"'`]/g,"")}function Je(){let t=document.getElementById("build-title");on(),m(t,"input",()=>{let e=We(t.value);t.value!==e&&(t.value=e);let n=t.value.trim();sn(n)})}var ue=[{id:1,name:"\u80DE\u5B50\u7206\u5F3E",icon:"icons/skills/1.jpg"},{id:2,name:"\u83CC\u8338\u982D\u6253",icon:"icons/skills/2.jpg"},{id:3,name:"\u80DE\u5B50\u9023\u6483",icon:"icons/skills/3.jpg"},{id:4,name:"\u5DE8\u77F3\u885D\u6483",icon:"icons/skills/4.jpg"},{id:5,name:"\u30C8\u30B2\u8302\u307F",icon:"icons/skills/5.jpg"},{id:6,name:"\u30AD\u30CE\u5148\u99C6",icon:"icons/skills/6.jpg"},{id:7,name:"\u30C4\u30BF\u7E1B\u308A",icon:"icons/skills/7.jpg"},{id:8,name:"\u75BE\u99C6\u83CC\u8338",icon:"icons/skills/8.jpg"},{id:9,name:"\u8718\u86DB\u306E\u5DE3",icon:"icons/skills/9.jpg"},{id:10,name:"\u843D\u30D1\u30A4\u30F3",icon:"icons/skills/10.jpg"},{id:11,name:"\u8C9D\u6069\u8FD4\u3057",icon:"icons/skills/11.jpg"},{id:12,name:"\u30C4\u30BF\u7E41\u8302",icon:"icons/skills/12.jpg"},{id:13,name:"\u8759\u8760\u884C\u65B9",icon:"icons/skills/13.jpg"},{id:14,name:"\u5927\u5730\u56DE\u5FA9",icon:"icons/skills/14.jpg"},{id:15,name:"\u83CC\u30D0\u30EA\u30A2",icon:"icons/skills/15.jpg"},{id:16,name:"\u30C9\u30EA\u7206\u5F3E",icon:"icons/skills/16.jpg"},{id:17,name:"\u53CD\u5247\u6253\u6483",icon:"icons/skills/17.jpg"},{id:18,name:"\u901F\u5EA6\u6696\u6162",icon:"icons/skills/18.jpg"},{id:19,name:"\u30B3\u30A4\u30F3\u7206\u5F3E",icon:"icons/skills/19.jpg"},{id:20,name:"\u30B9\u30E9\u30A4\u5F3E",icon:"icons/skills/20.jpg"},{id:21,name:"\u6D41\u661F\u843D\u5F3E",icon:"icons/skills/21.jpg"},{id:22,name:"\u6B66\u88C5\u89E3\u9664",icon:"icons/skills/22.jpg"},{id:23,name:"\u76EE\u7729\u5931\u795E",icon:"icons/skills/23.jpg"},{id:24,name:"\u7159\u5E55\u5F3E",icon:"icons/skills/24.jpg"},{id:25,name:"\u7121\u5E38\u72E9\u547D",icon:"icons/skills/25.jpg"},{id:26,name:"\u82F1\u9B42\u964D\u81E8",icon:"icons/skills/26.jpg"},{id:27,name:"\u72C2\u98A8\u901A\u9053",icon:"icons/skills/27.jpg"},{id:28,name:"\u7A32\u59BB\u5947\u8972",icon:"icons/skills/28.jpg"},{id:29,name:"\u5229\u5203\u8CAB\u901A",icon:"icons/skills/29.jpg"},{id:30,name:"\u5206\u8EAB\u653B\u6483",icon:"icons/skills/30.jpg"},{id:31,name:"\u767E\u65AC\u5343\u9396",icon:"icons/skills/31.jpg"},{id:32,name:"\u98A8\u795E\u306E\u77E2",icon:"icons/skills/32.jpg"},{id:33,name:"\u8840\u6708\u964D\u81E8",icon:"icons/skills/33.jpg"},{id:34,name:"\u7ADC\u541F\u53CC\u58F0",icon:"icons/skills/34.jpg"},{id:35,name:"\u5929\u4E0B\u306E\u7F60",icon:"icons/skills/35.jpg"},{id:36,name:"\u30BF\u30ED\u30C3\u30C8\u661F\u9663",icon:"icons/skills/36.jpg"},{id:37,name:"\u9CF6\u8776\u5165\u5922",icon:"icons/skills/37.jpg"},{id:38,name:"\u7956\u795E\u306E\u610F\u601D",icon:"icons/skills/38.jpg"}];var Se=[{id:1,name:"\u5375\u5272\u308A\u5C0F\u9D8F",species:"\u9D8F",icon:"icons/pals/1.jpg"},{id:2,name:"\u30AD\u30CE\u30B3\u9CE5",species:"\u9CE5",icon:"icons/pals/2.jpg"},{id:3,name:"\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/3.jpg"},{id:4,name:"\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/4.jpg"},{id:5,name:"\u98DB\u884C\u72D0",species:"\u5996\u7CBE",icon:"icons/pals/5.jpg"},{id:6,name:"\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/6.jpg"},{id:7,name:"\u5B50\u9E7F",species:"\u9E7F",icon:"icons/pals/7.jpg"},{id:8,name:"\u5B50\u732B",species:"\u732B",icon:"icons/pals/8.jpg"},{id:9,name:"\u96EA\u5E03\u98A0",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/9.jpg"},{id:10,name:"\u8C46\u67F4",species:"\u829D\u72AC",icon:"icons/pals/10.jpg"},{id:11,name:"\u8056\u591C\u706B\u9D8F",species:"\u9D8F",icon:"icons/pals/11.jpg"},{id:12,name:"\u30A2\u30DE\u30E4\u9CE5",species:"\u9CE5",icon:"icons/pals/12.jpg"},{id:13,name:"\u68D8\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/13.jpg"},{id:14,name:"\u53CD\u9006\u30D0\u30CA\u30CA",species:"\u30D0\u30CA\u30CA",icon:"icons/pals/14.jpg"},{id:15,name:"\u9ED2\u732B",species:"\u732B",icon:"icons/pals/15.jpg"},{id:16,name:"\u81EA\u7136\u306E\u7CBE\u970A",species:"\u6C34\u7389",icon:"icons/pals/16.jpg"},{id:17,name:"\u30A2\u30DF\u3061\u3083\u3093",species:"\u5996\u7CBE",icon:"icons/pals/17.jpg"},{id:18,name:"\u96EA\u56E3\u5B50",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/18.jpg"},{id:19,name:"\u67F4\u592A\u90CE",species:"\u829D\u72AC",icon:"icons/pals/19.jpg"},{id:20,name:"\u30D1\u30F3\u30C0\u69CC",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/20.jpg"},{id:21,name:"\u679D\u89D2\u9E7F",species:"\u9E7F",icon:"icons/pals/21.jpg"},{id:22,name:"\u6F54\u7656\u95D8\u58EB",species:"\u6B6F\u78E8\u304D\u7C89",icon:"icons/pals/22.jpg"},{id:23,name:"\u9B54\u5973\u732B",species:"\u732B",icon:"icons/pals/23.jpg"},{id:24,name:"\u597D\u6226\u306A\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/24.jpg"},{id:25,name:"\u30DC\u30FC\u30B4\u30F3",species:"\u5996\u7CBE",icon:"icons/pals/25.jpg"},{id:26,name:"\u96EA\u7CBE\u970A",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/26.jpg"},{id:27,name:"\u30D1\u30D5\u30A7\u67F4",species:"\u829D\u72AC",icon:"icons/pals/27.jpg"},{id:28,name:"\u6226\u95D8\u9D8F",species:"\u9D8F",icon:"icons/pals/28.jpg"},{id:29,name:"\u9752\u30EC\u30A4\u9CE5",species:"\u9CE5",icon:"icons/pals/29.jpg"},{id:30,name:"\u5B66\u5F92\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/30.jpg"},{id:31,name:"\u82D4\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/31.jpg"},{id:32,name:"\u751F\u82B1\u9E7F",species:"\u9E7F",icon:"icons/pals/32.jpg"},{id:33,name:"\u30DE\u30A4\u732B",species:"\u732B",icon:"icons/pals/33.jpg"},{id:34,name:"\u5E38\u52DD\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/34.jpg"},{id:35,name:"\u8CAB\u901A\u7363",species:"\u5996\u7CBE",icon:"icons/pals/35.jpg"},{id:36,name:"\u96EA\u5996\u602A",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/36.jpg"},{id:37,name:"\u30E1\u30AB\u67F4",species:"\u829D\u72AC",icon:"icons/pals/37.jpg"},{id:38,name:"\u529F\u592B\u795E\u9D8F",species:"\u9D8F",icon:"icons/pals/38.jpg"},{id:39,name:"\u7D05\u30E9\u30F3\u9CE5",species:"\u9CE5",icon:"icons/pals/39.jpg"},{id:40,name:"\u9053\u7740\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/40.jpg"},{id:41,name:"\u30A2\u30A4\u30B9\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/41.jpg"},{id:42,name:"\u970A\u9E7F",species:"\u9E7F",icon:"icons/pals/42.jpg"},{id:43,name:"\u694A\u679D\u30CA\u30B9",species:"\u30CA\u30B9",icon:"icons/pals/43.jpg"},{id:44,name:"\u526F\u9F8D\u30DD\u30E8\u30F3",species:"\u7ADC",icon:"icons/pals/44.jpg"},{id:45,name:"\u30ED\u30DC\u30C9\u30E9\u30B4\u30F3",species:"\u30ED\u30DC\u30C9\u30E9\u30B4\u30F3",icon:"icons/pals/45.jpg"},{id:46,name:"B.Duck",species:"B.Duck",icon:"icons/pals/46.jpg"},{id:47,name:"\u30CE\u30D6\u30CA\u30AC\u30EF\u30F3",species:"\u30CE\u30D6\u30CA\u30AC\u30EF\u30F3",icon:"icons/pals/47.jpg"},{id:48,name:"\u30C6\u30EA\u30A2\u30E2\u30F3",species:"\u30C6\u30EA\u30A2\u30E2\u30F3",icon:"icons/pals/48.jpg"},{id:49,name:"\u30EC\u30CA\u30E2\u30F3",species:"\u30EC\u30CA\u30E2\u30F3",icon:"icons/pals/49.jpg"},{id:50,name:"\u30B7\u30E5\u30FC\u5B50\u3061\u3083\u3093",species:"\u30B7\u30E5\u30FC\u5B50\u3061\u3083\u3093",icon:"icons/pals/50.jpg"},{id:51,name:"\u30B2\u30ED\u30BF\u30F3",species:"\u30B2\u30ED\u30BF\u30F3",icon:"icons/pals/51.jpg"},{id:52,name:"\u30C0\u30F3\u30B4\u30ED\u30F3",species:"\u30C0\u30F3\u30B4\u30ED\u30F3",icon:"icons/pals/52.jpg"},{id:53,name:"\u738B\u5B50\u732B",species:"\u732B",icon:"icons/pals/53.jpg"},{id:54,name:"\u6226\u795E\u6C34\u7389",species:"\u6C34\u7389",icon:"icons/pals/54.jpg"},{id:55,name:"\u706B\u5C3E",species:"\u5996\u7CBE",icon:"icons/pals/55.jpg"},{id:56,name:"\u96EA\u5927\u5C06",species:"\u96EA\u7CBE\u970A",icon:"icons/pals/56.jpg"},{id:57,name:"\u6B66\u58EB\u67F4",species:"\u829D\u72AC",icon:"icons/pals/57.jpg"},{id:58,name:"\u5929\u4E0B\u30C8\u30EA",species:"\u9D8F",icon:"icons/pals/58.jpg"},{id:59,name:"\u4FA0\u30AB\u30AF\u9CE5",species:"\u9CE5",icon:"icons/pals/59.jpg"},{id:60,name:"\u6B66\u82B8\u30D1\u30F3\u30C0",species:"\u30D1\u30F3\u30C0",icon:"icons/pals/60.jpg"},{id:61,name:"\u9154\u30C7\u30F3\u30C7\u30F3\u866B",species:"\u8778\u725B",icon:"icons/pals/61.jpg"},{id:62,name:"\u5929\u4F7F\u9E7F",species:"\u9E7F",icon:"icons/pals/62.jpg"},{id:63,name:"\u6B63\u7FA9\u30D0\u30CA\u30CA",species:"\u30D0\u30CA\u30CA",icon:"icons/pals/63.jpg"},{id:64,name:"\u8679\u5B88\u8B77\u8005",species:"\u6B6F\u78E8\u304D\u7C89",icon:"icons/pals/64.jpg"},{id:65,name:"\u50B7\u5FC3\u86D9",species:"\u50B7\u5FC3\u86D9",icon:"icons/pals/65.jpg"},{id:66,name:"\u51A5\u706B\u5E7D\u7FBD",species:"\u51A5\u706B\u5E7D\u7FBD",icon:"icons/pals/66.jpg"},{id:67,name:"\u30D0\u30BF\u30D0\u30BF\u5B50\u72AC",species:"\u30D0\u30BF\u30D0\u30BF\u5B50\u72AC",icon:"icons/pals/67.jpg"},{id:68,name:"\u6D77\u8CCA\u30AA\u30A6\u30E0",species:"\u6D77\u8CCA\u30AA\u30A6\u30E0",icon:"icons/pals/68.jpg"},{id:69,name:"\u30B8\u30F3\u30B8\u30E3\u30FC\u30AF\u30C3\u30AD\u30FC",species:"\u30B8\u30F3\u30B8\u30E3\u30FC\u30AF\u30C3\u30AD\u30FC",icon:"icons/pals/69.jpg"},{id:70,name:"\u96A0\u5B9D\u7ADC",species:"\u7ADC",icon:"icons/pals/70.jpg"},{id:71,name:"\u30AF\u30FC\u30EB\u30AB\u30E1",species:"\u30AB\u30E1",icon:"icons/pals/71.jpg"},{id:72,name:"\u30ED\u30DC\u30C9\u30C3\u30B0",species:"\u30ED\u30DC\u30C9\u30C3\u30B0",icon:"icons/pals/72.jpg"},{id:73,name:"\u72D0\u5C71\u795E\u72D0",species:"\u72D0",icon:"icons/pals/73.jpg"},{id:74,name:"\u6D77\u8CCA\u30BF\u30B3",species:"\u30BF\u30B3",icon:"icons/pals/74.jpg"},{id:75,name:"\u5BCC\u8C6A\u30C8\u30AB\u30B2",species:"\u30C8\u30AB\u30B2",icon:"icons/pals/75.jpg"},{id:76,name:"\u6708\u306E\u514E",species:"\u6708\u306E\u514E",icon:"icons/pals/76.jpg"},{id:77,name:"\u99DD\u9234\u30AB\u30E9\u30F3",species:"\u30A2\u30EB\u30D1\u30AB",icon:"icons/pals/77.jpg"}];var Le=[],w=document.createElement("div");w.innerHTML=`
  <div class="modal-content">
    <p>\u672C\u5F53\u306B\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F</p>
    <button id="confirm-yes">\u306F\u3044</button>
    <button id="confirm-no">\u30AD\u30E3\u30F3\u30BB\u30EB</button>
  </div>
`;w.classList.add("modal");document.body.appendChild(w);var cn=w.querySelector("#confirm-yes"),dn=w.querySelector("#confirm-no");function h(t,e){Le=t,w.querySelector("p").textContent=`${e}\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u304B\uFF1F`,w.style.display="block"}function Qe(){w.style.display="none",Le=[]}function ln(){let t=new URLSearchParams(window.location.search);Le.forEach(n=>t.delete(n));let e=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",e)}cn.addEventListener("click",()=>{ln(),F(),Qe()});dn.addEventListener("click",Qe);var W="pals",Ee='<span class="icon empty"></span>';function J(){let t=document.getElementById("pal-list");t.innerHTML="",Se.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>rn(e)),t.appendChild(n)}),ze()}function rn(t){console.log("toggle");let e=document.querySelector(`.pal-slot[data-pal-id="${t.id}"]`);if(e){let n=parseInt(e.dataset.slot||"1",10);fe(n)}else{console.log("add");let n=document.querySelector(".pal-slot:not([data-pal-id])");if(console.log(n),n){n.dataset.palId=String(t.id),n.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),i.dataset.palId=String(t.id),m(i,"click",()=>{let a=parseInt(n.dataset.slot||"1",10);fe(a)}),n.appendChild(i),ge(),J()}}}function fe(t){let e=document.querySelector(`.pal-slot[data-slot="${t}"]`);e&&(e.removeAttribute("data-pal-id"),e.innerHTML=Ee),J(),ge()}function ze(){document.querySelectorAll("#pal-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`.pal-slot[data-pal-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function ge(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".pal-slot[data-pal-id]")).map(i=>{let a=i.getAttribute("data-slot"),o=i.getAttribute("data-pal-id");return`${a}:${o}`}).join(",");e?t.set(W,e):t.delete(W);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function mn(){let t=document.getElementById("selected-pals");t.innerHTML="";let e=Ie();for(let n=0;n<e;n++){let i=document.createElement("div");i.classList.add("pal-slot"),i.dataset.slot=String(n),i.innerHTML=Ee,t.appendChild(i)}}function pn(){let e=new URLSearchParams(window.location.search).get(W),n=new Map((e||"").split(",").map(a=>{let[o,s]=a.split(":");return[o,s]}));document.querySelectorAll(".pal-slot").forEach(a=>{let o=a.dataset.slot,s=n.get(o),c=Se.find(d=>d.id===parseInt(s||"",10));if(c){a.dataset.palId=String(c.id),a.innerHTML="";let d=document.createElement("img");d.src=c.icon,d.classList.add("icon"),d.alt=c.name,m(d,"click",()=>{let r=parseInt(a.dataset.slot||"1",10);fe(r)}),a.appendChild(d)}else a.removeAttribute("data-pal-id"),a.innerHTML=Ee}),ze()}function ve(){let t=document.getElementById("selected-pals"),e=t.querySelectorAll(".pal-slot").length,n=Ie();if(e>n){for(let i=n;i<e;i++){let a=t.querySelector(`[data-slot="${i}"]`);a&&a.remove()}J(),ge()}else if(e<n)for(let i=e;i<n;i++){let a=document.createElement("div");a.classList.add("pal-slot"),a.dataset.slot=String(i),a.innerHTML='<span class="icon empty"></span>',t.appendChild(a)}}function Ve(){mn(),J(),pn();let t=document.getElementById("reset-pals-btn");m(t,"click",()=>{h([W],"\u4EF2\u9593")})}var he=[{id:1,name:"\u6B66\u8056",palLimit:5},{id:2,name:"\u6226\u795E",palLimit:5},{id:3,name:"\u8056\u72E9",palLimit:5},{id:4,name:"\u7FBD\u7687",palLimit:5},{id:5,name:"\u5148\u77E5",palLimit:5},{id:6,name:"\u9B54\u738B",palLimit:5},{id:7,name:"\u7363\u738B",palLimit:6},{id:8,name:"\u970A\u5C0A",palLimit:6}],Xe="job",un=document.querySelectorAll('input[name="job"]');un.forEach(t=>{m(t,"change",e=>{let n=e.target,i=parseInt(n.value,10);document.getElementById("job-options").dataset.selectedJob=String(i),Sn(i),ve()})});function Sn(t){let e=new URLSearchParams(window.location.search);e.set(Xe,String(t));let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function Ln(){let t=new URLSearchParams(window.location.search),e=parseInt(t.get(Xe)||"1",10);he.find(i=>i.id===e)&&(document.getElementById("job-options").dataset.selectedJob=String(e),fn(e))}function fn(t){let e=document.querySelector(`input[name="job"][value="${t}"]`);e&&(e.checked=!0)}function Ze(){Ln(),ve()}function Ie(){let t=parseInt(document.getElementById("job-options").dataset.selectedJob||"1");return he.find(e=>e.id===t)?.palLimit||he[0].palLimit}var En=[{id:1,name:"\u56DE\u5FA9"},{id:2,name:"\u56DE\u907F"},{id:3,name:"\u30C0\u30A6\u30F3"},{id:4,name:"\u9023\u6483"},{id:5,name:"\u53CD\u6483"},{id:6,name:"\u4F1A\u5FC3"},{id:7,name:"\u4EF2\u9593\u9023\u6483"},{id:8,name:"\u4EF2\u9593\u4F1A\u5FC3"},{id:9,name:"\u6280\u80FD\u4F1A\u5FC3"}],q=20,Q="equipments";function gn(){let t=document.getElementById("equipments-option-list"),e=document.getElementById("equipments-total-count");t.innerHTML="",En.forEach(n=>{let i=document.createElement("div");i.classList.add("equipments-option-item"),i.dataset.count="0",i.dataset.id=String(n.id),i.innerHTML=`
      <span class="equipments-option-name">${n.name}</span>
      <div class="equipments-counter">
        <button data-id="${n.id}" data-action="decrease10">-10</button>
        <button data-id="${n.id}" data-action="decrease">-</button>
        <span class="count-display">0</span>
        <button data-id="${n.id}" data-action="increase">+</button>
        <button data-id="${n.id}" data-action="increase10">+10</button>
      </div>
    `,i.querySelectorAll("button").forEach(a=>{m(a,"click",o=>vn(o,i,e))}),t.appendChild(i)}),e.dataset.total="0",e.textContent="0"}function vn(t,e,n){let i=t.currentTarget,a=parseInt(n.dataset.total||"0",10),o=i.dataset.action,s=parseInt(e.dataset.count||"0",10),c=e.querySelector(".count-display");switch(o){case"decrease10":s=Math.max(0,s-10);break;case"decrease":s=Math.max(0,s-1);break;case"increase":s=Math.min(10,a+1>q?s+q-a:s+1);break;case"increase10":s=Math.min(10,a+10>q?s+q-a:s+10);break}e.dataset.count=String(s),c.textContent=String(s),In(n),hn()}function In(t){let e=document.querySelectorAll(".equipments-option-item"),n=Array.from(e).reduce((i,a)=>i+parseInt(a.dataset.count||"0",10),0);t.textContent=String(n),t.dataset.total=String(n)}function hn(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".equipments-option-item")).filter(i=>parseInt(i.dataset.count||"0",10)>0).map(i=>`${i.dataset.id}:${i.dataset.count}`).join(",");e?t.set(Q,e):t.delete(Q);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function Tn(){let e=new URLSearchParams(window.location.search).get(Q)?.split(",")||[],n=document.getElementById("equipments-option-list"),i=0;n.querySelectorAll(".equipments-option-item").forEach(o=>{let s=o.dataset.id;if(!s)return;let c=e.find(A=>A.startsWith(`${s}:`)),d=c?parseInt(c.split(":")[1],10):0,r=q-i,f=Math.min(d,r);o.dataset.count=String(f);let g=o.querySelector(".count-display");g.textContent=String(f),i+=f});let a=document.getElementById("equipments-total-count");a.textContent=String(i),a.dataset.total=String(i)}function et(){gn(),Tn();let t=document.getElementById("reset-equipments-btn");m(t,"click",()=>{h([Q],"\u88C5\u5099")})}var yn=5,z="skills",ye='<span class="icon empty"></span>';function Me(){let t=document.getElementById("skill-list");t.innerHTML="",ue.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>Mn(e)),t.appendChild(n)}),tt()}function Mn(t){let e=document.querySelector(`.skill-slot[data-skill-id="${t.id}"]`);if(e){let n=parseInt(e.dataset.slot||"0",10);Te(n)}else{let n=document.querySelector(".skill-slot:not([data-skill-id])");if(n){n.dataset.skillId=String(t.id),n.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),i.dataset.palId=String(t.id),m(i,"click",()=>{let a=parseInt(n.dataset.slot||"0",10);Te(a)}),n.appendChild(i),nt(),Me()}}}function Te(t){let e=document.querySelector(`.skill-slot[data-slot="${t}"]`);e&&(e.removeAttribute("data-skill-id"),e.innerHTML=ye),Me(),nt()}function tt(){document.querySelectorAll("#skill-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`.skill-slot[data-skill-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function nt(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".skill-slot[data-skill-id]")).map(i=>{let a=i.getAttribute("data-slot"),o=i.getAttribute("data-skill-id");return`${a}:${o}`}).join(",");e?t.set(z,e):t.delete(z);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function An(){let t=document.getElementById("selected-skills");t.innerHTML="";for(let e=0;e<yn;e++){let n=document.createElement("div");n.classList.add("skill-slot"),n.dataset.slot=String(e),n.innerHTML=ye,t.appendChild(n)}}function On(){let e=new URLSearchParams(window.location.search).get(z),n=new Map((e||"").split(",").map(a=>{let[o,s]=a.split(":");return[o,s]}));document.querySelectorAll(".skill-slot").forEach(a=>{let o=a.dataset.slot,s=n.get(o),c=ue.find(d=>d.id===parseInt(s||"",10));if(c){a.dataset.skillId=String(c.id),a.innerHTML="";let d=document.createElement("img");d.src=c.icon,d.classList.add("icon"),d.alt=c.name,m(d,"click",()=>{let r=parseInt(a.dataset.slot||"1",10);Te(r)}),a.appendChild(d)}else a.removeAttribute("data-skill-id"),a.innerHTML=ye}),tt()}function it(){An(),Me(),On();let t=document.getElementById("reset-skills-btn");m(t,"click",()=>{h([z],"\u6280\u80FD")})}var Ae=(c=>(c.Mask="\u4EEE\u9762",c.Fossil="\u5316\u77F3",c.EarthTreasure="\u5730\u5B9D",c.Book="\u66F8\u7269",c.Statue="\u5F6B\u50CF",c.Necklace="\u9996\u98FE",c.Spore="\u80DE\u5B50",c))(Ae||{}),st=[{id:1,name:"\u7D46\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/1.jpg"},{id:2,name:"\u77E2\u738B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/2.jpg"},{id:3,name:"\u91D1\u525B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/3.jpg"},{id:4,name:"\u796D\u7940\u306E\u9762\u5177",type:"\u4EEE\u9762",icon:"icons/relics/4.jpg"},{id:5,name:"\u9B54\u738B\u306E\u4EEE\u9762",type:"\u4EEE\u9762",icon:"icons/relics/5.jpg"},{id:6,name:"\u5F15\u96F7\u51E7",type:"\u5316\u77F3",icon:"icons/relics/6.jpg"},{id:7,name:"\u91D1\u7B94\u5375\u6BBB",type:"\u5316\u77F3",icon:"icons/relics/7.jpg"},{id:8,name:"\u65CB\u98A8\u7FBD\u6BDB",type:"\u5316\u77F3",icon:"icons/relics/8.jpg"},{id:9,name:"\u7425\u73C0\u30C7\u30F3\u866B",type:"\u5316\u77F3",icon:"icons/relics/9.jpg"},{id:10,name:"\u7ADC\u7D0B\u9AA8\u74B0",type:"\u5316\u77F3",icon:"icons/relics/10.jpg"},{id:11,name:"\u77E2\u7AF9",type:"\u5730\u5B9D",icon:"icons/relics/11.jpg"},{id:12,name:"\u9752\u3044\u96EA\u82B1",type:"\u5730\u5B9D",icon:"icons/relics/12.jpg"},{id:13,name:"\u6075\u307F\u306E\u96E8",type:"\u5730\u5B9D",icon:"icons/relics/13.jpg"},{id:14,name:"\u9B54\u6CD5\u306E\u7BB1",type:"\u5730\u5B9D",icon:"icons/relics/14.jpg"},{id:15,name:"\u7570\u5F62\u6C34\u6676",type:"\u5730\u5B9D",icon:"icons/relics/15.jpg"},{id:16,name:"\u706B\u7114\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/16.jpg"},{id:17,name:"\u7363\u76AE\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/17.jpg"},{id:18,name:"\u514D\u75AB\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/18.jpg"},{id:19,name:"\u7652\u3057\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/19.jpg"},{id:20,name:"\u77F3\u8108\u306E\u66F8",type:"\u66F8\u7269",icon:"icons/relics/20.jpg"},{id:21,name:"\u30A8\u30CD\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/21.jpg"},{id:22,name:"\u6ABB\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/22.jpg"},{id:23,name:"\u5E7B\u6676\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/23.jpg"},{id:24,name:"\u6642\u306E\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/24.jpg"},{id:25,name:"\u661F\u7F85\u5F6B\u50CF",type:"\u5F6B\u50CF",icon:"icons/relics/25.jpg"},{id:26,name:"\u9632\u5FA1\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/26.jpg"},{id:27,name:"\u8D64\u938C\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/27.jpg"},{id:28,name:"\u66B4\u98A8\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/28.jpg"},{id:29,name:"\u82F1\u970A\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/29.jpg"},{id:30,name:"\u96A0\u6DF5\u9996\u98FE",type:"\u9996\u98FE",icon:"icons/relics/30.jpg"},{id:31,name:"\u6642\u7A7A\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/31.jpg"},{id:32,name:"\u6D85\u69C3\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/32.jpg"},{id:33,name:"\u5F37\u529B\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/33.jpg"},{id:34,name:"\u8986\u7FBD\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/34.jpg"},{id:35,name:"\u68D8\u80DE\u5B50",type:"\u80DE\u5B50",icon:"icons/relics/35.jpg"}],V="relics",Oe='<span class="icon empty"></span>';function Rn(){let t=document.getElementById("selected-relics");t.innerHTML="",Object.values(Ae).forEach((e,n)=>{let i=document.createElement("div");i.classList.add("relic-slot"),i.dataset.slot=String(n),i.dataset.type=e,i.innerHTML=Oe,t.appendChild(i)})}function ot(){let t=document.getElementById("relics-list");t.innerHTML="",Object.values(Ae).forEach(e=>{let n=document.createElement("div");n.classList.add("relic-group"),n.innerHTML="",st.filter(a=>a.type===e).forEach(a=>{let o=document.createElement("img");o.src=a.icon,o.alt=a.name,o.classList.add("icon"),o.dataset.id=String(a.id),o.dataset.type=a.type,m(o,"click",()=>jn(a)),n.appendChild(o)}),t.appendChild(n)}),ct()}function jn(t){let e=document.querySelector(`.relic-slot[data-type="${t.type}"]`);if(!e){console.warn(`Slot not found for relic type: ${t.type}`);return}let n=e.dataset.relicId?parseInt(e.dataset.relicId,10):null;n===t.id?at(t.type):(n!=null&&at(t.type),e.dataset.relicId=String(t.id),e.innerHTML=`<img src="${t.icon}" alt="${t.name}" class="icon">`),bn(),ot()}function at(t){let e=document.querySelector(`.relic-slot[data-type="${t}"]`);e&&(e.removeAttribute("data-relic-id"),e.innerHTML=Oe)}function ct(){document.querySelectorAll(".relic-group .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`.relic-slot[data-relic-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function bn(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".relic-slot[data-relic-id]")).map(i=>i.getAttribute("data-relic-id")).join(",");e?t.set(V,e):t.delete(V);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function wn(){let e=new URLSearchParams(window.location.search).get(V)?.split(",").map(i=>parseInt(i,10))||[];document.querySelectorAll(".relic-slot").forEach(i=>{let a=i.dataset.type,o=st.find(s=>s.type===a&&e.includes(s.id));if(o){i.dataset.relicId=String(o.id),i.innerHTML="";let s=document.createElement("img");s.src=o.icon,s.classList.add("icon"),s.alt=o.name,i.appendChild(s)}else i.removeAttribute("data-relic-id"),i.innerHTML=Oe}),ct()}function dt(){Rn(),ot(),wn();let t=document.getElementById("reset-relics-btn");m(t,"click",()=>{h([V],"\u907A\u7269")})}var kn=[{id:1,name:"\u653B\u6483\u4E57\u7B97"},{id:2,name:"\u4F53\u529B\u4E57\u7B97"},{id:3,name:"\u9632\u5FA1\u4E57\u7B97"},{id:4,name:"\u6280\u80FD\u30C0\u30E1"},{id:5,name:"\u9023\u6483\u30C0\u30E1\u4E57\u7B97"},{id:6,name:"\u53CD\u6483\u30C0\u30E1\u4E57\u7B97"},{id:7,name:"\u4EF2\u9593\u30C0\u30E1"},{id:8,name:"\u5BFE\u30DC\u30B9\u30C0\u30E1"},{id:9,name:"\u4F1A\u5FC3\u30C0\u30E1\u52A0\u7B97"},{id:10,name:"\u4F1A\u5FC3\u62B5\u6297"}],Re=5,X="statues";function Hn(){let t=document.getElementById("statue-list");t.innerHTML="";let e=document.getElementById("statue-total-count");kn.forEach(n=>{let i=document.createElement("div");i.classList.add("statue-option-item"),i.dataset.count=String(i.dataset.count||"0"),i.dataset.id=String(n.id),i.innerHTML=`
            <span class="statue-option-name">${n.name}</span>
            <div class="statue-counter">
                <button data-action="decrease">-</button>
                <span class="count-display">${i.dataset.count}</span>
                <button data-action="increase">+</button>
            </div>
        `,i.querySelectorAll("button").forEach(a=>{m(a,"click",o=>qn(o,i,e))}),t.appendChild(i)}),e.textContent="0",e.dataset.total="0"}function qn(t,e,n){let i=t.currentTarget,a=parseInt(n.dataset.total||"0",10),o=i.dataset.action,s=parseInt(e.dataset.count||"0",10),c=e.querySelector(".count-display");switch(o){case"decrease":s=Math.max(0,s-1);break;case"increase":s=Math.min(5,a+1>Re?s+Re-a:s+1);break}e.dataset.count=String(s),c.textContent=String(s),Un(),xn(n)}function xn(t){let e=document.querySelectorAll(".statue-option-item"),n=Array.from(e).reduce((i,a)=>i+parseInt(a.dataset.count||"0",10),0);t.textContent=String(n),t.dataset.total=String(n)}function Un(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".statue-option-item[data-count]")).filter(n=>parseInt(n.dataset.count||"0",10)>0).map(n=>`${n.dataset.id}:${n.dataset.count}`).join(",");e?t.set(X,e):t.delete(X),history.replaceState(null,"","?"+t.toString())}function Cn(){let e=new URLSearchParams(window.location.search).get(X)?.split(",")||[],n=0;document.getElementById("statue-list").querySelectorAll(".statue-option-item").forEach(o=>{let s=o.dataset.id;if(!s)return;let c=e.find(A=>A.startsWith(`${s}:`)),d=c?parseInt(c.split(":")[1],10):0,r=Re-n,f=Math.min(d,r);o.dataset.count=String(f);let g=o.querySelector(".count-display");g.textContent=String(f),n+=f});let a=document.getElementById("statue-total-count");a.textContent=String(n),a.dataset.total=String(n)}function lt(){Hn(),Cn();let t=document.getElementById("reset-statues-btn");m(t,"click",()=>{h([X],"\u5F6B\u50CF")})}var rt=[{id:1,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:2,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:3,name:"\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:4,name:"\u4F1A\u5FC3\u62B5\u6297\u4E57\u7B97"},{id:5,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:6,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:7,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97\u4E57\u7B97"}],_n=6;function Pn(){let t=document.getElementById("enchantment-sets-list");t.querySelectorAll(".enchantment-set-item").forEach(n=>{n.remove()}),rt.forEach(n=>{let i=document.createElement("div");i.classList.add("enchantment-set-item"),i.dataset.id=String(n.id),i.dataset.count="0";let a=document.createElement("span");a.textContent=n.name;let o=document.createElement("div");o.classList.add("checkbox-group");let s=document.createElement("input");s.type="checkbox",s.dataset.value="2",s.id=`set-${n.id}-x2`;let c=document.createElement("label");c.htmlFor=s.id,c.textContent="x2";let d=document.createElement("input");d.type="checkbox",d.dataset.value="4",d.id=`set-${n.id}-x4`;let r=document.createElement("label");r.htmlFor=d.id,r.textContent="x4",o.appendChild(s),o.appendChild(c),o.appendChild(d),o.appendChild(r),i.appendChild(a),i.appendChild(o),t.appendChild(i)})}function Bn(t,e,n){let i=parseInt(t.dataset.count||"0",10),a=n?i+e:i-e,o=document.getElementById("enchantment-sets-list"),c=parseInt(o.dataset.total||"0",10)+(n?e:-e);if(c<=_n)t.dataset.count=String(a),o.dataset.total=String(c),Dn();else{let d=t.querySelector(`input[data-value="${e}"]`);d.checked=!1}}function Nn(t){let e=t.target,n=e.closest(".enchantment-set-item"),i=parseInt(e.dataset.value,10),a=e.checked;Bn(n,i,a)}function Dn(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".enchantment-set-item input:checked")).map(i=>{let o=i.closest(".enchantment-set-item").dataset.id,s=i.dataset.value;return`${o}:${s}`}).join(",");e?t.set(x,e):t.delete(x);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function $n(){let n=(new URLSearchParams(window.location.search).get(x)||"").split(","),i=document.getElementById("enchantment-sets-list"),a=0;i.querySelectorAll(".enchantment-set-item").forEach(o=>{let s=o.dataset.id;if(!s)return;rt.find(d=>d.id===parseInt(s,10)&&n.some(r=>r.startsWith(`${s}:`)))?n.filter(r=>r.startsWith(`${s}:`)).map(r=>parseInt(r.split(":")[1],10)).forEach(r=>{let f=o.querySelector(`input[data-value="${r}"]`);f&&(f.checked=!0,a+=r)}):o.querySelectorAll("input").forEach(d=>{d.checked=!1})}),i.dataset.total=String(a)}function mt(){Pn(),$n(),document.querySelectorAll('.enchantment-set-item input[type="checkbox"]').forEach(e=>{m(e,"change",Nn)})}var pt=[{id:1,name:"\u2163",options:[{id:1,name:"\u53CD\u6483\u30C0\u30E1"},{id:2,name:"\u9023\u6483\u30C0\u30E1"},{id:3,name:"\u4EF2\u9593\u30C0\u30E1"},{id:4,name:"\u6280\u80FD\u30C0\u30E1"},{id:5,name:"\u901A\u5E38\u30C0\u30E1"}]},{id:2,name:"\u2164",options:[{id:6,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:7,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:8,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:9,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}]},{id:3,name:"\u2165",options:[{id:10,name:"\u4F1A\u5FC3\u30C0\u30E1\u52A0\u7B97"},{id:11,name:"\u4F1A\u5FC3\u62B5\u6297\u52A0\u7B97"},{id:12,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:13,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8"},{id:14,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}]}];function Gn(){let t=document.getElementById("enchantment-main-list");t.querySelectorAll(".enchantment-part").forEach(n=>{n.remove()}),pt.forEach(n=>{let i=document.createElement("div");i.classList.add("enchantment-part");let a=document.createElement("h4");a.classList.add("inline-title"),a.textContent=`${n.name}:`;let o=document.createElement("select");o.dataset.part=String(n.id),o.classList.add("enchantment-main");let s=document.createElement("option");s.value="",s.textContent="\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",s.disabled=!0,s.selected=!0,o.appendChild(s),n.options.forEach(c=>{let d=document.createElement("option");d.value=c.name,d.textContent=c.name,d.dataset.id=String(c.id),o.appendChild(d)}),i.appendChild(a),i.appendChild(o),t.appendChild(i),m(o,"change",Yn)})}function Yn(){let t=new URLSearchParams(window.location.search),e=[];document.querySelectorAll("select.enchantment-main").forEach(i=>{let a=i.dataset.part,s=i.selectedOptions[0]?.dataset.id;a&&s&&e.push(`${a}:${s}`)}),e.length>0?t.set(U,e.join(",")):t.delete(U);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function Kn(){let e=new URLSearchParams(window.location.search).get(U),n=new Map((e||"").split(",").map(a=>{let[o,s]=a.split(":");return[o,s]}));document.querySelectorAll("select.enchantment-main").forEach(a=>{let o=a.dataset.part,s=n.get(o),d=pt.find(r=>r.id===Number(o))?.options.find(r=>r.id===parseInt(s||"",10));d?a.value=d.name:a.selectedIndex=0})}function ut(){Gn(),Kn()}var St=[{id:1,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:2,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:3,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:4,name:"\u9023\u6483\u30C0\u30E1"},{id:5,name:"\u53CD\u6483\u30C0\u30E1"},{id:6,name:"\u4EF2\u9593\u30C0\u30E1"},{id:7,name:"\u6280\u80FD\u30C0\u30E1"},{id:8,name:"\u6280\u80FD\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:9,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:10,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:11,name:"\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1"},{id:12,name:"\u30C0\u30A6\u30F3"},{id:13,name:"\u56DE\u907F"},{id:14,name:"\u56DE\u907F\u7121\u8996"},{id:15,name:"\u6253\u3061\u4E0A\u3052"},{id:16,name:"\u30C0\u30A6\u30F3\u7121\u8996"},{id:17,name:"\u6253\u3061\u4E0A\u3052\u7121\u8996"},{id:18,name:"\u6CBB\u7652\u91CF"},{id:19,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u4E57\u7B97"},{id:20,name:"\u901A\u5E38\u30C0\u30E1"},{id:21,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:22,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8"},{id:23,name:"\u30DC\u30B9\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"}];function Fn(){let t=document.getElementById("enchantment-sub-list");t.innerHTML="",St.forEach(e=>{let n=document.createElement("div");n.classList.add("enchantment-sub-option-item"),n.textContent=e.name,n.dataset.id=String(e.id),t.appendChild(n)}),m(t,"click",Wn)}function Wn(t){let e=t.target;e.classList.contains("enchantment-sub-option-item")&&(e.classList.toggle("selected"),Jn())}function Jn(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".enchantment-sub-option-item.selected")).map(i=>i.dataset.id);e.length>0?t.set(C,e.join(",")):t.delete(C);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function Qn(){let e=new URLSearchParams(window.location.search).get(C)?.split(",")||[];document.querySelectorAll(".enchantment-sub-option-item").forEach(i=>{let a=i.dataset.id;St.find(s=>a===String(s.id)&&e.includes(String(s.id)))?i.classList.add("selected"):i.classList.remove("selected")})}function Lt(){Fn(),Qn()}var x="enchantment-sets",U="enchantment-main",C="enchantment-sub";function ft(){mt(),ut(),Lt();let t=document.getElementById("reset-enchantments-btn");m(t,"click",()=>{h([x,U,C],"\u795E\u5668\u4ED8\u9B54")})}var Et=[{id:1,name:"\u30C9\u30C7\u30AB\u30D6\u30BF\u30C3\u30AF",icon:"icons/mounts/1.jpg"},{id:2,name:"\u30E6\u30CB\u30B3\u30FC\u30F3",icon:"icons/mounts/2.jpg"},{id:3,name:"\u6EB6\u5CA9\u9B54\u9F8D",icon:"icons/mounts/3.jpg"},{id:4,name:"\u8056\u5149\u9B54\u7ADC",icon:"icons/mounts/4.jpg"},{id:5,name:"\u7D2B\u7FFC",icon:"icons/mounts/5.jpg"},{id:6,name:"\u6D6E\u304D\u6D6E\u304D\u96F2",icon:"icons/mounts/6.jpg"},{id:7,name:"\u7389\u514E1\u53F7",icon:"icons/mounts/7.jpg"},{id:8,name:"\u8A69\u3068\u5F80\u304F",icon:"icons/mounts/8.jpg"},{id:9,name:"\u904A\u9B5A\u7D19\u9CF6",icon:"icons/mounts/9.jpg"},{id:10,name:"\u30AA\u30FC\u30C8\u30D0\u30A4\u30AF",icon:"icons/mounts/10.jpg"},{id:11,name:"\u70C8\u7114\u30D0\u30A4\u30AF",icon:"icons/mounts/11.jpg"},{id:12,name:"\u6708\u4E0B\u6E7E",icon:"icons/mounts/12.jpg"},{id:13,name:"\u767E\u5909\u30B9\u30E9\u30A4\u30E0",icon:"icons/mounts/13.jpg"},{id:14,name:"\u96EA\u591C\u30E8\u30E8",icon:"icons/mounts/14.jpg"},{id:15,name:"\u5FC3\u306E\u8D74\u304F\u307E\u307E\u306B",icon:"icons/mounts/15.jpg"},{id:16,name:"\u30B9\u30A4\u30AB\u30D5\u30ED\u30FC\u30C8",icon:"icons/mounts/16.jpg"},{id:17,name:"\u30C0\u30C3\u30AD\u30F3\u30B0",icon:"icons/mounts/17.jpg"},{id:18,name:"\u30C7\u30F3\u30C7\u30F3\u30ED\u30FC\u30E9\u30FC",icon:"icons/mounts/18.jpg"},{id:19,name:"\u5E7D\u3005\u30AB\u30DC\u30C1\u30E3\u8ECA",icon:"icons/mounts/19.jpg"},{id:20,name:"\u30B0\u30E9\u30CB",icon:"icons/mounts/20.jpg"},{id:21,name:"\u30D9\u30D2\u30FC\u30E2\u30B9",icon:"icons/mounts/21.jpg"},{id:22,name:"\u9B54\u6CD5\u306E\u66F8",icon:"icons/mounts/22.jpg"},{id:23,name:"\u53CC\u86D9\u30D6\u30EB\u30D6\u30EB",icon:"icons/mounts/23.jpg"},{id:24,name:"\u96EA\u4E2D\u8A2A\u554F\u8005",icon:"icons/mounts/24.jpg"},{id:25,name:"\u30BF\u30A4\u30E0\u30DE\u30B7\u30F3",icon:"icons/mounts/25.jpg"},{id:26,name:"\u711A\u5BC2\u7834\u5FC3",icon:"icons/mounts/26.jpg"},{id:27,name:"\u98A8\u706B\u8F2A",icon:"icons/mounts/27.jpg"},{id:28,name:"\u767D\u864E",icon:"icons/mounts/28.jpg"},{id:29,name:"\u9752\u725B\u30E2\u30FC\u30E2\u30FC",icon:"icons/mounts/29.jpg"},{id:30,name:"\u9752\u306E\u5973\u738B",icon:"icons/mounts/30.jpg"},{id:31,name:"\u4E38\u3005\u86D9",icon:"icons/mounts/31.jpg"},{id:32,name:"\u30E9\u30E0\u9152\u6A3D",icon:"icons/mounts/32.jpg"},{id:33,name:"\u30AC\u30C3\u30C4\u30A6\u30A3\u30F3\u30B01\u53F7",icon:"icons/mounts/33.jpg"}],be='<span class="icon empty"></span>';function zn(){let t=document.getElementById("mount-list");t.innerHTML="",Et.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>Vn(e)),t.appendChild(n)}),Z()}function Vn(t){let e=document.getElementById("selected-mount");if(e.dataset.mountId===String(t.id))e.removeAttribute("data-mount-id"),e.innerHTML=be,je(null);else{e.dataset.mountId=String(t.id),e.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),m(i,"click",()=>{e.removeAttribute("data-mount-id"),e.innerHTML=be,Z(),je(null)}),e.appendChild(i),je(t.id)}Z()}function Z(){document.querySelectorAll("#mount-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`#selected-mount[data-mount-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function je(t){let e=new URLSearchParams(window.location.search);t!==null?e.set(_,String(t)):e.delete(_);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function Xn(){let e=new URLSearchParams(window.location.search).get(_),n=document.getElementById("selected-mount");if(e){n.dataset.mountId=e;let i=Et.find(a=>a.id===parseInt(e,10));i&&(n.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else n.innerHTML=be,n.removeAttribute("data-mount-id");Z()}function gt(){zn(),Xn()}var vt=[{id:1,name:"\u6DF7\u5143\u6B66\u8056\u69CC",icon:"icons/artifacts/1.jpg"},{id:2,name:"\u591C\u884C\u9D09\u773C\u306E\u938C",icon:"icons/artifacts/2.jpg"},{id:3,name:"\u98F4\u30AC\u30C8\u30EA\u30F3\u30B0",icon:"icons/artifacts/3.jpg"},{id:4,name:"\u958B\u5929\u306E\u5263",icon:"icons/artifacts/4.jpg"},{id:5,name:"\u5343\u5C64\u5854",icon:"icons/artifacts/5.jpg"},{id:6,name:"\u50B7\u5FC3\u5F0F\u8972\u6483",icon:"icons/artifacts/6.jpg"},{id:7,name:"\u4E21\u5203\u306E\u5F26",icon:"icons/artifacts/7.jpg"},{id:8,name:"\u52A0\u6E1B\u3092\u77E5\u308C",icon:"icons/artifacts/8.jpg"},{id:9,name:"\u30BB\u30A4\u30EC\u30FC\u30F3\u306E\u56C1\u304D",icon:"icons/artifacts/9.jpg"},{id:10,name:"\u5927\u30AC\u30A1\u30FC\u30F3\u30BD\u30FC",icon:"icons/artifacts/10.jpg"},{id:11,name:"\u9B54\u6CD5\u306E\u6756",icon:"icons/artifacts/11.jpg"},{id:12,name:"\u30D6\u30EB\u30C8\u30AC\u30F3\u30B0\uFF06\u30B0\u30F3\u30B0\u30CB\u30EB",icon:"icons/artifacts/12.jpg"},{id:13,name:"\u30D6\u30E9\u30B9\u30BF\u30FC",icon:"icons/artifacts/13.jpg"},{id:14,name:"\u30D3\u30EA\u30C3\u30C8\u30B9\u30C6\u30A3\u30C3\u30AF",icon:"icons/artifacts/14.jpg"},{id:15,name:"\u53E4\u57CE\u30ED\u30A6\u30BD\u30AF",icon:"icons/artifacts/15.jpg"},{id:16,name:"\u30C7\u30E1\u30C6\u30EB\u306E\u5203",icon:"icons/artifacts/16.jpg"},{id:17,name:"\u795E\u76FE\u971C\u706B",icon:"icons/artifacts/17.jpg"},{id:18,name:"\u84BC\u708E\u5FA1\u5B88\u5200",icon:"icons/artifacts/18.jpg"},{id:19,name:"\u30A6\u30EB\u30C8\u30E9\u30BC\u30ED\u30E9\u30F3\u30B9",icon:"icons/artifacts/19.jpg"},{id:20,name:"\u30A6\u30EB\u30C6\u30A3\u30E1\u30A4\u30C8\u30A4\u30FC\u30B8\u30B9",icon:"icons/artifacts/20.jpg"}],ke='<span class="icon empty"></span>';function Zn(){let t=document.getElementById("artifact-list");t.innerHTML="",vt.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>ei(e)),t.appendChild(n)}),ee()}function ei(t){let e=document.getElementById("selected-artifact");if(e.dataset.artifactId===String(t.id))e.removeAttribute("data-artifact-id"),e.innerHTML=ke,we(null);else{e.dataset.artifactId=String(t.id),e.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),m(i,"click",()=>{e.removeAttribute("data-artifact-id"),e.innerHTML=ke,ee(),we(null)}),e.appendChild(i),we(t.id)}ee()}function ee(){document.querySelectorAll("#artifact-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`#selected-artifact[data-artifact-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function we(t){let e=new URLSearchParams(window.location.search);t!==null?e.set(P,String(t)):e.delete(P);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function ti(){let e=new URLSearchParams(window.location.search).get(P),n=document.getElementById("selected-artifact");if(e){n.dataset.artifactId=e;let i=vt.find(a=>a.id===parseInt(e,10));i&&(n.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else n.innerHTML=ke,n.removeAttribute("data-artifact-id");ee()}function It(){Zn(),ti()}var ht=[{id:1,name:"\u91D1\u5149\u306E\u98DB\u7FBD",icon:"icons/back_accessories/1.jpg"},{id:2,name:"\u7FBD\u878D\u6708\u7159",icon:"icons/back_accessories/2.jpg"},{id:3,name:"\u9752\u5C71\u5165\u8272",icon:"icons/back_accessories/3.jpg"},{id:4,name:"\u5263\u9B44\u51CC\u98A8",icon:"icons/back_accessories/4.jpg"},{id:5,name:"\u6607\u9F8D\u8ECC\u8DE1",icon:"icons/back_accessories/5.jpg"},{id:6,name:"\u865A\u73FE\u9023\u7D50",icon:"icons/back_accessories/6.jpg"},{id:7,name:"\u5B87\u5B99\u304B\u3089\u306E\u6765\u8A2A\u8005",icon:"icons/back_accessories/7.jpg"},{id:8,name:"\u4ECA\u6669\u306E\u98DF\u6750",icon:"icons/back_accessories/8.jpg"},{id:9,name:"\u8776\u306E\u7FBD\u5316",icon:"icons/back_accessories/9.jpg"},{id:10,name:"\u30B5\u30DE\u30FC\u30D1\u30E9\u30BD\u30EB",icon:"icons/back_accessories/10.jpg"},{id:11,name:"\u30C8\u30D3\u30DE\u30B9\u30AB\u30A4",icon:"icons/back_accessories/11.jpg"},{id:12,name:"\u80CC\u5F8C\u970A",icon:"icons/back_accessories/12.jpg"},{id:13,name:"\u5815\u843D\u306E\u5929\u4F7F",icon:"icons/back_accessories/13.jpg"},{id:14,name:"\u7363\u9AA8\u9038\u98A8",icon:"icons/back_accessories/14.jpg"},{id:15,name:"\u6642\u306E\u30D7\u30EA\u30BA\u30E0",icon:"icons/back_accessories/15.jpg"},{id:16,name:"\u30C7\u30E5\u30FC\u30AF\u30E2\u30F3\uFF1A\u30AF\u30EA\u30E0\u30BE\u30F3\u30E2\u30FC\u30C9\u306E\u7FFC",icon:"icons/back_accessories/16.jpg"},{id:17,name:"\u30D9\u30EB\u30BC\u30D6\u30E2\u30F3\uFF1A\u30D6\u30E9\u30B9\u30C8\u30E2\u30FC\u30C9\u306E\u7FFC",icon:"icons/back_accessories/17.jpg"},{id:18,name:"\u9B54\u6CD5\u9663",icon:"icons/back_accessories/18.jpg"},{id:19,name:"\u30B1\u30ED\u30B9\u30E9\u30B9\u30BF\u30FC",icon:"icons/back_accessories/19.jpg"},{id:20,name:"\u9AA8\u7ADC\u9320",icon:"icons/back_accessories/20.jpg"},{id:21,name:"\u96EA\u5F71\u5E7D\u970A",icon:"icons/back_accessories/21.jpg"},{id:22,name:"\u5149\u8F1D\u306E\u8E8D\u9032",icon:"icons/back_accessories/22.jpg"}],qe='<span class="icon empty"></span>';function ni(){let t=document.getElementById("back-accessory-list");t.innerHTML="",ht.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>ii(e)),t.appendChild(n)}),te()}function ii(t){let e=document.getElementById("selected-back-accessory");if(e.dataset.backAccessoryId===String(t.id))e.removeAttribute("data-back-accessory-id"),e.innerHTML=qe,He(null);else{e.dataset.backAccessoryId=String(t.id),e.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),m(i,"click",()=>{e.removeAttribute("data-back-accessory-id"),e.innerHTML=qe,te(),He(null)}),e.appendChild(i),He(t.id)}te()}function te(){document.querySelectorAll("#back-accessory-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`#selected-back-accesory[data-back-accessory-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function He(t){let e=new URLSearchParams(window.location.search);t!==null?e.set(B,String(t)):e.delete(B);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function ai(){let e=new URLSearchParams(window.location.search).get(B),n=document.getElementById("selected-back-accessory");if(e){n.dataset.backAccessoryId=e;let i=ht.find(a=>a.id===parseInt(e,10));i&&(n.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else n.innerHTML=qe,n.removeAttribute("data-back-accessory-id");te()}function Tt(){ni(),ai()}var _="mount",P="artifact",B="back-accessory";function yt(){gt(),It(),Tt();let t=document.getElementById("reset-mounts-artifacts-back-accessories-btn");m(t,"click",()=>{h([_,P,B],"\u9A0E\u4E57&\u795E\u5668&\u80CC\u98FE\u308A")})}var S={YELLOW:"yellow",PURPLE:"purple",BLUE:"blue",GRAY:"gray",RAINBOW:"rainbow"},Mt=[{id:1,name:"\u597D\u6226\u30A2\u30F3\u30CB\u30F3",icon:"icons/avians/1.jpg"},{id:2,name:"\u5FAE\u5149\u30ED\u30A6\u30BD\u30AF",icon:"icons/avians/2.jpg"},{id:3,name:"\u30E4\u30B7\u30DC\u30FC\u30EB",icon:"icons/avians/3.jpg"},{id:4,name:"\u3082\u3053\u3082\u3053\u30E1\u30A7",icon:"icons/avians/4.jpg"},{id:5,name:"\u30C8\u30DE\u30BF\u30DE\u7092\u3081",icon:"icons/avians/5.jpg"},{id:6,name:"AI\u52A9\u624B",icon:"icons/avians/6.jpg"},{id:7,name:"\u4E73\u9178\u30B3\u30B3\u30A2",icon:"icons/avians/7.jpg"},{id:8,name:"\u885D\u6483\u30DA\u30F3\u30AE\u30F3",icon:"icons/avians/8.jpg"},{id:9,name:"\u7A4D\u96E8\u96F2",icon:"icons/avians/9.jpg"},{id:10,name:"\u4E09\u9023\u5C04\u624B",icon:"icons/avians/10.jpg"},{id:11,name:"\u30EA\u30F3\u30EA\u30F3\u30D9\u30EB",icon:"icons/avians/11.jpg"},{id:12,name:"\u6674\u5929\u306E\u4F7F\u8005",icon:"icons/avians/12.jpg"},{id:13,name:"\u65C5\u30AF\u30E9\u30B2",icon:"icons/avians/13.jpg"},{id:14,name:"\u8FF7\u98A8\u306E\u8449",icon:"icons/avians/14.jpg"},{id:15,name:"\u30C1\u30E7\u30D3\u86FE",icon:"icons/avians/15.jpg"},{id:16,name:"\u4E73\u9178\u98DB\u884C\u58EB",icon:"icons/avians/16.jpg"},{id:17,name:"\u30A2\u30CC\u30D3\u30B9",icon:"icons/avians/17.jpg"},{id:18,name:"\u86CD\u591C\u30C8\u30C8",icon:"icons/avians/18.jpg"},{id:19,name:"\u6708\u7E1B\u970A",icon:"icons/avians/19.jpg"},{id:20,name:"\u9CE5\u795E\u30DB\u30EB\u30B9",icon:"icons/avians/20.jpg"},{id:21,name:"\u307E\u307B\u306B\u3083\u3093",icon:"icons/avians/21.jpg"},{id:22,name:"\u3059\u3044\u3061\u3083\u3093",icon:"icons/avians/22.jpg"},{id:23,name:"\u306B\u3083\u3093\u3077\u3046",icon:"icons/avians/23.jpg"},{id:24,name:"\u30DF\u30B7\u30A7\u30EB",icon:"icons/avians/24.jpg"},{id:25,name:"Teal",icon:"icons/avians/25.jpg"},{id:26,name:"Pinky",icon:"icons/avians/26.jpg"},{id:27,name:"B.Duck",icon:"icons/avians/27.jpg"},{id:28,name:"\u30D5\u30AF\u30ED\u30A6",icon:"icons/avians/28.jpg"},{id:29,name:"\u9583\u5149\u30D5\u30AF\u30ED\u30A6",icon:"icons/avians/29.jpg"},{id:30,name:"\u30AF\u30EF\u30B8\u30FC\u30ED",icon:"icons/avians/30.jpg"},{id:31,name:"\u30B7\u30E3\u30FC\u30AF\u30E9\u30FC",icon:"icons/avians/31.jpg"},{id:32,name:"\u30AC\u30CB\u30E9\u30F3",icon:"icons/avians/32.jpg"},{id:33,name:"\u30AE\u30EB\u30E2\u30F3",icon:"icons/avians/33.jpg"},{id:34,name:"\u30A4\u30F3\u30D7\u30E2\u30F3",icon:"icons/avians/34.jpg"},{id:35,name:"\u30C7\u30E5\u30FC\u30AF\u30E2\u30F3",icon:"icons/avians/35.jpg"},{id:36,name:"\u30E1\u30AE\u30C9\u30E9\u30E2\u30F3",icon:"icons/avians/36.jpg"},{id:37,name:"\u30D9\u30EB\u30BC\u30D6\u30E2\u30F3",icon:"icons/avians/37.jpg"}],At=[{id:1,name:"\u96C6\u7D50\u8D85\u9023\u6483",color:S.YELLOW},{id:2,name:"\u8D85\u53CD\u5C04\u53CD\u6483",color:S.YELLOW},{id:3,name:"\u8D85\u7D76\u901A\u5E38\u653B\u6483",color:S.YELLOW},{id:4,name:"\u30B9\u30FC\u30D1\u30FC\u30D7\u30E9\u30B9",color:S.YELLOW},{id:5,name:"\u5B8C\u5168\u4E0D\u5236\u5FA1",color:S.YELLOW},{id:6,name:"\u6B63\u5F53\u9632\u885B",color:S.YELLOW},{id:7,name:"\u7CBE\u5BC6\u9632\u885B",color:S.YELLOW},{id:8,name:"\u53CD\u5C04\u7121\u52B9",color:S.YELLOW},{id:9,name:"\u6068\u307F\u5341\u5206",color:S.YELLOW},{id:10,name:"\u6575\u610F\u4E00\u5FC3",color:S.YELLOW},{id:11,name:"\u8FC2\u56DE\u4F5C\u6226",color:S.YELLOW},{id:12,name:"\u5F37\u6575\u80B2\u6211",color:S.YELLOW},{id:13,name:"\u5FEB\u901F\u6CBB\u7652",color:S.YELLOW},{id:14,name:"\u7570\u5E38\u72B6\u614B\u514D\u75AB",color:S.YELLOW},{id:15,name:"\u5BFF\u547D\u5EF6\u9577",color:S.YELLOW},{id:16,name:"\u77ED\u671F\u4F53\u8CEA",color:S.YELLOW},{id:17,name:"\u92FC\u5840\u9244\u58C1",color:S.YELLOW},{id:18,name:"\u901F\u3044\u304C\u920D\u3044",color:S.PURPLE},{id:19,name:"\u7814\u920D\u5996\u65AC",color:S.PURPLE},{id:20,name:"\u5668\u7528\u8CA7\u4E4F",color:S.PURPLE},{id:21,name:"\u60F0\u6027\u6C17\u4F53",color:S.PURPLE},{id:22,name:"\u80CC\u5F8C\u306E\u5203",color:S.PURPLE},{id:23,name:"\u5358\u72EC\u9032\u884C",color:S.PURPLE},{id:24,name:"\u9577\u547D\u6BD4\u3079",color:S.PURPLE},{id:25,name:"\u7D19\u9632\u5FA1",color:S.PURPLE},{id:26,name:"\u8106\u5F31\u30DE\u30B9\u30BF\u30FC",color:S.PURPLE},{id:27,name:"\u8010\u4E45\u8EDF\u5F31",color:S.PURPLE},{id:28,name:"\u91CD\u539A\u7532\u5191",color:S.PURPLE},{id:29,name:"\u5B89\u5B9A\u4E3B\u7FA9",color:S.PURPLE},{id:30,name:"\u91CE\u826F\u306E\u5473\u65B9",color:S.PURPLE},{id:31,name:"\u5409\u5831\u3092\u5F85\u3064",color:S.PURPLE},{id:32,name:"\u4ED6\u640D\u81EA\u5229",color:S.PURPLE},{id:33,name:"\u5229\u4ED6\u81EA\u640D",color:S.PURPLE},{id:34,name:"\u514B\u5DF1\u5FA9\u50B7",color:S.PURPLE},{id:35,name:"\u9032\u9000\u7AAE\u307E\u308B",color:S.PURPLE},{id:36,name:"\u4E0A\u4E0A\u4E0B\u4E0B",color:S.PURPLE},{id:37,name:"\u4E2D\u5EB8\u306E\u9053",color:S.PURPLE},{id:38,name:"\u67D3\u6BD2\u77E2\u5C3B",color:S.PURPLE},{id:39,name:"\u30AD\u30CE\u30B3\u9023\u6483",color:S.BLUE},{id:40,name:"\u53CD\u5C04\u53CD\u6483",color:S.BLUE},{id:41,name:"\u5F37\u5316\u901A\u5E38\u653B\u6483",color:S.BLUE},{id:42,name:"\u80FD\u529B\u6280\u80FD",color:S.BLUE},{id:43,name:"\u5F37\u5316\u3055\u308C\u305F\u3001\u884C\u3051",color:S.BLUE},{id:44,name:"\u61A4\u6012\u52A0\u7B97",color:S.BLUE},{id:45,name:"\u9244\u6876\u56DE\u907F",color:S.BLUE},{id:46,name:"\u518D\u751F\u80FD\u529B",color:S.BLUE},{id:47,name:"\u30B9\u30FC\u30D1\u30FC\u30EA\u30FC\u30B0",color:S.RAINBOW},{id:48,name:"\u5168\u65B9\u4F4D\u6253\u6483",color:S.RAINBOW},{id:49,name:"\u5168\u80FD\u5236\u5FA1\u8853",color:S.RAINBOW},{id:50,name:"\u9006\u884C\u5236\u5FA1\u8853",color:S.RAINBOW},{id:51,name:"\u7206\u88C2\u30B3\u30B9\u30E2",color:S.RAINBOW},{id:52,name:"\u7121\u9650\u7206\u767A\u6253\u6483",color:S.RAINBOW},{id:53,name:"\u5929\u6027\u306E\u5927\u7206\u767A",color:S.RAINBOW},{id:54,name:"\u591A\u91CD\u767A\u5C04",color:S.RAINBOW},{id:55,name:"\u5982\u7FBD\u6D41\u884C",color:S.RAINBOW},{id:56,name:"\u98A8\u8ECC\u65AC\u88C2",color:S.RAINBOW},{id:57,name:"\u7121\u9650\u5922\u5E7B",color:S.RAINBOW},{id:58,name:"\u91CD\u62F3\u53CD\u6483",color:S.RAINBOW},{id:59,name:"\u6FC0\u6012\u72C2\u65AC",color:S.RAINBOW},{id:60,name:"\u6025\u6240\u76F4\u6483",color:S.RAINBOW},{id:61,name:"\u901F\u5EA6\u8D85\u904E\u7981\u6B62",color:S.RAINBOW},{id:62,name:"\u30A2\u30F3\u30C6\u30CA\u8A98\u96F7",color:S.RAINBOW},{id:63,name:"\u795E\u8A17\u306E\u89E6\u308C",color:S.RAINBOW},{id:64,name:"\u79D8\u8853\u306E\u5149\u8F1D",color:S.RAINBOW}],xe='<span class="icon empty"></span>',ne="avian",Ue="avian-status",si=4;function oi(){let t=document.getElementById("avian-status-list");t.innerHTML="",At.forEach(e=>{let n=document.createElement("div");n.classList.add("avian-status-item",e.color),n.textContent=e.name,n.dataset.id=String(e.id),t.appendChild(n)}),m(t,"click",ci)}function ci(t){let e=t.target,n=document.getElementById("avian-status-total-count"),i=parseInt(n.dataset.total||"0",10);e.classList.contains("avian-status-item")&&(!e.classList.contains("selected")&&i<si?(e.classList.toggle("selected"),N(null),n.dataset.total=String(i+1),n.textContent=String(i+1)):e.classList.contains("selected")&&(e.classList.toggle("selected"),N(null),n.dataset.total=String(i-1),n.textContent=String(i-1)))}function di(){let t=document.getElementById("avian-list");t.innerHTML="",Mt.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>li(e)),t.appendChild(n)}),ie()}function li(t){let e=document.getElementById("selected-avian");if(e.dataset.avianId===String(t.id))e.removeAttribute("data-avian-id"),e.innerHTML=xe,N(null);else{e.dataset.avianId=String(t.id),e.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),m(i,"click",()=>{e.removeAttribute("data-avian-id"),e.innerHTML=xe,ie(),N(null)}),e.appendChild(i),N(t.id)}ie()}function ie(){document.querySelectorAll("#avian-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`#selected-avian[data-avian-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function N(t){mi(t),ri()}function ri(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".avian-status-item.selected")).map(i=>i.dataset.id);e.length>0?t.set(Ue,e.join(",")):t.delete(Ue);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function mi(t){let e=new URLSearchParams(window.location.search);t!==null?e.set(ne,String(t)):e.delete(ne);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function pi(){Si(),ui()}function ui(){let e=new URLSearchParams(window.location.search).get(Ue)?.split(",")||[],n=document.querySelectorAll(".avian-status-item"),i=0;n.forEach(o=>{let s=o.dataset.id;At.find(d=>s===String(d.id)&&e.includes(String(d.id)))?(o.classList.add("selected"),i++):o.classList.remove("selected")});let a=document.getElementById("avian-status-total-count");a.dataset.total=String(i),a.textContent=String(i)}function Si(){let e=new URLSearchParams(window.location.search).get(ne),n=document.getElementById("selected-avian");if(e){n.dataset.avianId=e;let i=Mt.find(a=>a.id===parseInt(e,10));i&&(n.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else n.innerHTML=xe,n.removeAttribute("data-avian-id");ie()}function Ot(){oi(),di(),pi();let t=document.getElementById("reset-avian-btn");m(t,"click",()=>{h([ne],"\u30DA\u30C3\u30C8")})}var Li=[{id:1,name:"\u4F53\u529B\u4E57\u7B97&\u4F53\u529B\u56DE\u5FA9\u52A0\u7B97"},{id:2,name:"\u9632\u5FA1\u4E57\u7B97&\u5BFE\u30DC\u30B9\u30C0\u30E1\u8EFD\u6E1B"},{id:3,name:"\u653B\u6483\u4E57\u7B97&\u6CBB\u7652\u7387"},{id:4,name:"\u4F1A\u5FC3\u62B5\u6297&\u4EF2\u9593\u4F1A\u5FC3\u7387&\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:5,name:"\u4F1A\u5FC3\u30C0\u30E1\u52A0\u7B97&\u6280\u80FD\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:6,name:"\u53CD\u6483\u30C0\u30E1&\u4EF2\u9593\u30C0\u30E1"},{id:7,name:"\u9023\u6483\u30C0\u30E1&\u5BFE\u30DC\u30B9\u30C0\u30E1"},{id:8,name:"\u901A\u5E38\u30C0\u30E1&\u6280\u80FD\u30C0\u30E1"}];function fi(){let t=document.getElementById("souls-main-option-list");t.innerHTML="",Li.forEach(e=>{let n=document.createElement("div");n.classList.add("souls-main-option-item"),n.dataset.count="0",n.dataset.id=String(e.id),n.innerHTML=`
      <span class="souls-main-option-name">${e.name}</span>
      <div class="souls-main-counter">
        <button data-id="${e.id}" data-action="decrease10">-10</button>
        <button data-id="${e.id}" data-action="decrease">-</button>
        <span class="count-display">0</span>
        <button data-id="${e.id}" data-action="increase">+</button>
        <button data-id="${e.id}" data-action="increase10">+10</button>
      </div>
    `,n.querySelectorAll("button").forEach(i=>{m(i,"click",a=>Ei(a,n))}),t.appendChild(n)})}function Ei(t,e){let i=t.currentTarget.dataset.action,a=parseInt(e.dataset.count||"0",10),o=e.querySelector(".count-display");switch(i){case"decrease10":a=Math.max(0,a-10);break;case"decrease":a=Math.max(0,a-1);break;case"increase":a=a+1;break;case"increase10":a=a+10;break}e.dataset.count=String(a),o.textContent=String(a),gi()}function gi(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".souls-main-option-item")).filter(i=>parseInt(i.dataset.count||"0",10)>0).map(i=>`${i.dataset.id}:${i.dataset.count}`).join(",");e?t.set(D,e):t.delete(D);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function vi(){let e=new URLSearchParams(window.location.search).get(D)?.split(",")||[];document.getElementById("souls-main-option-list").querySelectorAll(".souls-main-option-item").forEach(i=>{let a=i.dataset.id;if(!a)return;let o=e.find(d=>d.startsWith(`${a}:`)),s=o?parseInt(o.split(":")[1],10):0;i.dataset.count=String(s);let c=i.querySelector(".count-display");c.textContent=String(s)})}function Rt(){fi(),vi()}var jt=[{id:1,name:"\u9023\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:2,name:"\u901A\u5E38\u653B\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:3,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:4,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:5,name:"\u53CD\u6483\u30C0\u30E1\u30FC\u30B8\u8EFD\u6E1B"},{id:6,name:"\u6CBB\u7652"},{id:7,name:"\u6253\u4E0A\u3052"},{id:8,name:"\u6253\u4E0A\u3052\u7121\u8996"},{id:9,name:"\u9023\u6483\u4E57\u7B97"},{id:10,name:"\u53CD\u6483\u4E57\u7B97"},{id:11,name:"\u901A\u5E38\u653B\u6483\u4E57\u7B97"},{id:12,name:"\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1"}];function Ii(){let t=document.getElementById("souls-sub-list");t.innerHTML="",jt.forEach(e=>{let n=document.createElement("div");n.classList.add("souls-sub-option-item"),n.textContent=e.name,n.dataset.id=String(e.id),t.appendChild(n)}),m(t,"click",hi)}function hi(t){let e=t.target;e.classList.contains("souls-sub-option-item")&&(e.classList.toggle("selected"),Ti())}function Ti(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".souls-sub-option-item.selected")).map(i=>i.dataset.id);e.length>0?t.set($,e.join(",")):t.delete($);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function yi(){let e=new URLSearchParams(window.location.search).get($)?.split(",")||[];document.querySelectorAll(".souls-sub-option-item").forEach(i=>{let a=i.dataset.id;jt.find(s=>a===String(s.id)&&e.includes(String(s.id)))?i.classList.add("selected"):i.classList.remove("selected")})}function bt(){Ii(),yi()}var D="souls-main",$="souls-sub";function wt(){Rt(),bt();let t=document.getElementById("reset-souls-btn");m(t,"click",()=>{h([D,$],"\u6B66\u9B42")})}var kt=[{id:1,name:"\u653B\u6483\u4E57\u7B97",selection:null},{id:2,name:"\u4F53\u529B\u4E57\u7B97",selection:null},{id:3,name:"\u9632\u5FA1\u4E57\u7B97",selection:null},{id:4,name:"\u4F1A\u5FC3\u7CFB",selection:[{id:1,name:"\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:2,name:"\u6280\u80FD\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"},{id:3,name:"\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8"}]},{id:5,name:"\u4F1A\u5FC3\u62B5\u6297",selection:null},{id:6,name:"\u5C5E\u6027\u30C0\u30E1\u30FC\u30B8\u7CFB",selection:[{id:1,name:"\u901A\u5E38\u30C0\u30E1\u30FC\u30B8"},{id:2,name:"\u4EF2\u9593\u30C0\u30E1\u30FC\u30B8"},{id:3,name:"\u6280\u80FD\u30C0\u30E1\u30FC\u30B8"}]}],ae="awakening",se="awakening-select";function Mi(){let t=document.getElementById("awakening-option-list");t.innerHTML="",kt.forEach(e=>{let n=document.createElement("div");n.classList.add("awakening-option-item"),n.dataset.count="0",n.dataset.id=String(e.id);let i=Ai(e);n.appendChild(i);let a=document.createElement("div");a.classList.add("awakening-counter");let o=document.createElement("button");o.dataset.id=String(e.id),o.dataset.action="decrease10",o.textContent="-10",a.appendChild(o);let s=document.createElement("button");s.dataset.id=String(e.id),s.dataset.action="decrease",s.textContent="-",a.appendChild(s);let c=document.createElement("span");c.classList.add("count-display"),c.textContent="0",a.appendChild(c);let d=document.createElement("button");d.dataset.id=String(e.id),d.dataset.action="increase",d.textContent="+",a.appendChild(d);let r=document.createElement("button");r.dataset.id=String(e.id),r.dataset.action="increase10",r.textContent="+10",a.appendChild(r),n.appendChild(a),n.querySelectorAll("button").forEach(f=>{m(f,"click",g=>Oi(g,n))}),t.appendChild(n)})}function Ai(t){if(t.selection){let e=document.createElement("select");return e.classList.add("awakening-option-select"),t.selection.forEach(n=>{let i=document.createElement("option");i.value=String(n.id),i.textContent=n.name,e.appendChild(i)}),e.selectedIndex=0,m(e,"change",()=>{Ht()}),e}else{let e=document.createElement("span");return e.classList.add("awakening-option-name"),e.textContent=t.name,e}}function Oi(t,e){let i=t.currentTarget.dataset.action,a=parseInt(e.dataset.count||"0",10),o=e.querySelector(".count-display");switch(i){case"decrease10":a=Math.max(0,a-10);break;case"decrease":a=Math.max(0,a-1);break;case"increase":a=a+1;break;case"increase10":a=a+10;break}e.dataset.count=String(a),o.textContent=String(a),Ht()}function Ht(){Ri(),ji()}function Ri(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".awakening-option-item")).filter(i=>parseInt(i.dataset.count||"0",10)>0).map(i=>`${i.dataset.id}:${i.dataset.count}`).join(",");e?t.set(ae,e):t.delete(ae);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function ji(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".awakening-option-select")).map(i=>{let o=i.closest(".awakening-option-item")?.dataset.id,s=i.value;return o&&s?`${o}:${s}`:null}).filter(i=>i!==null).join(",");e?t.set(se,e):t.delete(se);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function bi(){wi(),ki()}function wi(){let e=new URLSearchParams(window.location.search).get(ae)?.split(",")||[];document.getElementById("awakening-option-list").querySelectorAll(".awakening-option-item").forEach(i=>{let a=i.dataset.id;if(!a)return;let o=e.find(d=>d.startsWith(`${a}:`)),s=o?parseInt(o.split(":")[1],10):0;i.dataset.count=String(s);let c=i.querySelector(".count-display");c.textContent=String(s)})}function ki(){let e=new URLSearchParams(window.location.search).get(se),n=new Map((e||"").split(",").map(i=>{let[a,o]=i.split(":");return[a,o]}));document.querySelectorAll(".awakening-option-select").forEach(i=>{let o=i.closest(".awakening-option-item")?.dataset.id,s=n.get(o);kt.find(r=>r.id===Number(o))?.selection?.find(r=>r.id==parseInt(s||"",10))?i.value=s:i.selectedIndex=0})}function qt(){Mi(),bi();let t=document.getElementById("reset-awakening-btn");m(t,"click",()=>{h([ae,se],"\u899A\u9192")})}var Pe=an(xt()),O={UNLOCKED:"unlocked",ACTIVE:"active",LOCKED:"locked",COMPLETED:"completed"},l={ATK:{id:1,name:"\u653B\u6483\u5F37\u5316"},DEF:{id:2,name:"\u9632\u5FA1\u5F37\u5316"},HP:{id:3,name:"\u4F53\u529B\u5F37\u5316"},PAL_REGEN:{id:4,name:"\u4EF2\u9593\u6CBB\u7652"},Wound:{id:5,name:"\u91CD\u50B7"},PAL_DMG:{id:6,name:"\u4EF2\u9593\u30C0\u30E1\u5F37\u5316"},PAL_ATK_SPD:{id:7,name:"\u4EF2\u9593\u653B\u6483\u901F\u5EA6"},PAL_IGNORE_EVASION:{id:8,name:"\u4EF2\u9593\u56DE\u907F\u7121\u8996"},IGNORE_EVASION:{id:9,name:"\u56DE\u907F\u7121\u8996"},ASSISTED_COMBO:{id:10,name:"\u5354\u529B\u9023\u6483"},PAL_CRIT_DMG:{id:11,name:"\u4EF2\u9593\u4F1A\u5FC3\u30C0\u30E1"},REGENERATION:{id:12,name:"\u56DE\u5FA9"},EVASION:{id:13,name:"\u56DE\u907F"},CRIMSON_SPIRIT:{id:14,name:"\u8D64\u7114\u6226\u9B42"},COUNTER_RES:{id:15,name:"\u53CD\u6483\u8EFD\u6E1B"},PAL_RES:{id:16,name:"\u4EF2\u9593\u8EFD\u6E1B"},SKILL_RES:{id:17,name:"\u6280\u80FD\u8EFD\u6E1B"},COMBO_RES:{id:18,name:"\u9023\u6483\u8EFD\u6E1B"},BASIC_ATK_RES:{id:19,name:"\u901A\u5E38\u8EFD\u6E1B"},LAUNCH:{id:20,name:"\u6253\u3061\u4E0A\u3052"},CRIT_RES:{id:21,name:"\u4F1A\u5FC3\u62B5\u6297"},SKILL_CD:{id:22,name:"\u30A8\u30CD\u56DE\u5FA9"},SKILL_REGEN:{id:23,name:"\u6280\u80FD\u56DE\u5FA9"},SKILL_DMG:{id:24,name:"\u6280\u80FD\u30C0\u30E1"},IGNORE_COUNTER:{id:25,name:"\u53CD\u6483\u7121\u8996"},ENDLESS_OUTBURST:{id:26,name:"\u7121\u5C3D\u653E\u51FA"},SKILL_CRIT_DMG:{id:27,name:"\u6280\u80FD\u4F1A\u5FC3\u30C0\u30E1"},IGNORE_LAUNCH:{id:28,name:"\u6253\u4E0A\u7121\u8996"},TEMPORAL_COMPRESSION:{id:29,name:"\u6642\u9593\u64CD\u4F5C"},STUN:{id:30,name:"\u30C0\u30A6\u30F3"},COMBO_REGEN:{id:31,name:"\u9023\u6483\u56DE\u5FA9"},COMBO_DMG:{id:32,name:"\u9023\u6483\u30C0\u30E1"},ATK_SPD:{id:33,name:"\u653B\u6483\u901F\u5EA6"},IGNORE_STUN:{id:34,name:"\u30C0\u30A6\u30F3\u7121\u8996"},GALE_BARRAGE:{id:35,name:"\u9023\u5C04"},HEALING_AMOUNT_RATE:{id:36,name:"\u6CBB\u7652"},CRIT_DMG:{id:37,name:"\u4F1A\u5FC3\u30C0\u30E1"},EAGER_MOMENTUM:{id:38,name:"\u6E9C\u3081\u6253\u3061"},HEALING:{id:39,name:"\u6CBB\u7652"},COUNTER_DMG:{id:40,name:"\u53CD\u6483\u30C0\u30E1"},COUNTER_REGEN:{id:41,name:"\u53CD\u6483\u56DE\u5FA9"},BASIC_ATK_DMG:{id:42,name:"\u901A\u5E38\u30C0\u30E1"},IGNORE_COMBO:{id:43,name:"\u9023\u6483\u7121\u8996"},RAMPAGE:{id:44,name:"\u72C2\u66B4"},ASCENSION:{id:45,name:"\u6607\u83EF"}},Be=[{id:1,name:"\u72C2\u6226\u58EB",talents:{top:[{id:1,talent:l.DEF,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COUNTER_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.PAL_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.SKILL_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COMBO_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.BASIC_ATK_RES,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.REGENERATION,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],left:[{id:1,talent:l.HP,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.REGENERATION,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.CRIT_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.HEALING_AMOUNT_RATE,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COUNTER_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_COMBO,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.ASCENSION,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],right:[{id:1,talent:l.ATK,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COUNTER_REGEN,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.BASIC_ATK_DMG,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.COUNTER_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.CRIT_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_COMBO,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.RAMPAGE,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}]}},{id:2,name:"\u5C04\u624B",talents:{top:[{id:1,talent:l.DEF,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COUNTER_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.PAL_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.SKILL_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COMBO_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.BASIC_ATK_RES,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.HEALING,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],left:[{id:1,talent:l.HP,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.HEALING_AMOUNT_RATE,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.EVASION,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.CRIT_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COMBO_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_STUN,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.EAGER_MOMENTUM,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],right:[{id:1,talent:l.ATK,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COMBO_REGEN,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.IGNORE_LAUNCH,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.COMBO_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.ATK_SPD,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_STUN,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.GALE_BARRAGE,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}]}},{id:3,name:"\u9B54\u6CD5\u4F7F\u3044",talents:{top:[{id:1,talent:l.DEF,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COUNTER_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.PAL_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.SKILL_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COMBO_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.BASIC_ATK_RES,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.STUN,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],left:[{id:1,talent:l.ATK,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.SKILL_CRIT_DMG,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.Wound,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.IGNORE_LAUNCH,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.SKILL_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_COUNTER,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.TEMPORAL_COMPRESSION,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],right:[{id:1,talent:l.HP,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.SKILL_REGEN,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.SKILL_DMG,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.SKILL_CD,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.CRIT_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.IGNORE_COUNTER,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.ENDLESS_OUTBURST,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}]}},{id:4,name:"\u7363\u4F7F\u3044",talents:{top:[{id:1,talent:l.DEF,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.COUNTER_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.PAL_RES,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.SKILL_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.COMBO_RES,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.BASIC_ATK_RES,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.LAUNCH,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],left:[{id:1,talent:l.HP,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.ATK,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.REGENERATION,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.EVASION,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.PAL_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.PAL_CRIT_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.PAL_IGNORE_EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.CRIMSON_SPIRIT,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}],right:[{id:1,talent:l.ATK,dependsOn:[],maxLevel:20,isStart:!0,isEnd:!1},{id:2,talent:l.DEF,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:3,talent:l.HP,dependsOn:[{nodeId:1,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:4,talent:l.PAL_REGEN,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:5,talent:l.Wound,dependsOn:[{nodeId:2,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:6,talent:l.PAL_ATK_SPD,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:7,talent:l.PAL_DMG,dependsOn:[{nodeId:3,requiredLevel:10}],maxLevel:20,isStart:!1,isEnd:!1},{id:8,talent:l.PAL_IGNORE_EVASION,dependsOn:[{nodeId:4,requiredLevel:10},{nodeId:5,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:9,talent:l.IGNORE_EVASION,dependsOn:[{nodeId:6,requiredLevel:10},{nodeId:7,requiredLevel:10}],maxLevel:10,isStart:!1,isEnd:!1},{id:10,talent:l.ASSISTED_COMBO,dependsOn:[{nodeId:8,requiredLevel:5},{nodeId:9,requiredLevel:5}],maxLevel:1,isStart:!1,isEnd:!0}]}}],Hi={1:[4],2:[2,6],4:[1,3,5,7]},ce="back-talents";function qi(){xi(),Ui()}function xi(){let t=document.getElementById("back-talenents-tree-selection-container");if(t.innerHTML="",!t){console.error("Container not found");return}Be.forEach((e,n)=>{let i=document.createElement("div");i.classList.add("back-talenents-job-panel");let a=document.createElement("div");a.classList.add("job-name"),a.textContent=e.name,["top","left","right"].forEach(s=>{let c=document.createElement("input");c.type="radio",c.name="jobTalent",c.id=`jobTalent-${e.id}-${s}`,c.classList.add("talent-radio"),s==="top"&&n===0&&(c.checked=!0);let d=document.createElement("label");d.classList.add("dot",s),d.setAttribute("for",c.id),i.appendChild(c),i.appendChild(d)}),i.appendChild(a),t.appendChild(i)})}function Ui(){let t=document.getElementById("back-talents-tree-container");t.innerHTML="",Be.forEach(e=>{t.appendChild(_e(e,"left")),t.appendChild(_e(e,"top")),t.appendChild(_e(e,"right"))})}function _e(t,e){let n=t.talents[e],i=document.createElement("div");i.classList.add("talent-grid"),i.setAttribute("id",`jobTalentGraph-${t.id}-${e}`),i.dataset.jobId=String(t.id),i.dataset.position=e,i.dataset.treeStatus=O.UNLOCKED;let a=Ki(n),o=Fi(n,a),s=o.size,c=Yi(o)*2-1;return i.style.gridTemplateColumns=`repeat(${s}, 1fr)`,i.style.gridTemplateRows=`repeat(${c}, auto)`,o.forEach((d,r)=>{let f=r-1;d.forEach((g,A)=>{let R=Hi[d.length]?.[A],M=document.createElement("div");M.classList.add("talent-node",e),M.dataset.nodeId=`jobTalentGraph-${t.id}-${e}-${g.id}`,M.dataset.currentLevel="0",M.dataset.maxLevel=g.maxLevel.toString(),g.dependsOn.forEach(L=>{let b=`jobTalentGraph-${t.id}-${e}-${L.nodeId}`,Y=i.querySelector(`[data-node-id="${b}"]`);Y&&(Y.dataset.requiredLevel=String(L.requiredLevel))});let T=document.createElement("div");T.textContent=g.talent.name,T.classList.add("talent-name");let I=document.createElement("div");I.classList.add("level-control");let j=document.createElement("button");j.textContent="-10",j.classList.add("talent-button","decrement10");let E=document.createElement("button");E.textContent="-",E.classList.add("talent-button","decrement");let v=document.createElement("span");v.textContent="0",v.classList.add("level-display");let p=document.createElement("button");p.textContent="+",p.classList.add("talent-button","increment");let u=document.createElement("button");u.textContent="+10",u.classList.add("talent-button","increment10");let y=(L,b,Y)=>{let k=parseInt(L.dataset.currentLevel||"0"),Qt=parseInt(L.dataset.maxLevel||"0"),K=Math.max(0,Math.min(Qt,k+Y));if(K>k)for(let H=k;H<K;H++)Ci(L,b);else if(K<k)for(let H=k;H>K;H--)Pi(L,b)};m(j,"click",L=>{let b=L.target.closest(".talent-node");y(b,t,-10)}),m(E,"click",L=>{let b=L.target.closest(".talent-node");y(b,t,-1)}),m(p,"click",L=>{let b=L.target.closest(".talent-node");y(b,t,1)}),m(u,"click",L=>{let b=L.target.closest(".talent-node");y(b,t,10)}),I.appendChild(j),I.appendChild(E),I.appendChild(v),I.appendChild(p),I.appendChild(u),M.appendChild(T),M.appendChild(I),M.style.gridColumn=`${f+1}`,M.style.gridRow=`${R}`,i.appendChild(M)})}),i}function Ci(t,e){let n=parseInt(t.dataset.currentLevel||"0"),i=parseInt(t.dataset.maxLevel||"0"),a=t.closest(".talent-grid");if(a.dataset.treeStatus===O.LOCKED)return;let s=Array.from(document.querySelectorAll(".talent-grid")).filter(c=>c.dataset.treeStatus===O.COMPLETED).length>=4;if(!(Ut(t)&&s)&&(a.dataset.treeStatus===O.UNLOCKED&&(a.dataset.treeStatus=O.ACTIVE,Ct(a)),n<i)){let c=n+1;t.dataset.currentLevel=c.toString(),t.querySelector(".level-display").textContent=c.toString(),_t(t,e),Ut(t)&&(a.dataset.treeStatus=O.COMPLETED,_i(a)),Bt()}}function Ut(t){let e=t.dataset.nodeId||"";return le(e)?.isEnd||!1}function _i(t){let e=t.dataset.jobId;document.querySelectorAll(`.talent-grid[data-job-id="${e}"]`).forEach(i=>{i.dataset.treeStatus===O.LOCKED&&(i.dataset.treeStatus=O.UNLOCKED)})}function Ct(t){let e=t.dataset.jobId;document.querySelectorAll(`.talent-grid[data-job-id="${e}"]`).forEach(i=>{i!==t&&i.dataset.treeStatus===O.UNLOCKED&&(i.dataset.treeStatus=O.LOCKED)})}function _t(t,e){let n=t.dataset.nodeId||"",i=le(n),a=de(n);!i||!a||i.dependsOn.forEach(o=>{let s=`jobTalentGraph-${e.id}-${a}-${o.nodeId}`,c=document.querySelector(`[data-node-id="${s}"]`);c&&parseInt(c.dataset.currentLevel||"0")<o.requiredLevel&&(c.dataset.currentLevel=String(o.requiredLevel),c.querySelector(".level-display").textContent=String(o.requiredLevel),_t(c,e))})}function Pi(t,e){let n=parseInt(t.dataset.currentLevel||"0"),i=t.closest(".talent-grid");if(n>0&&Bi(i,t)){let a=n-1;t.dataset.currentLevel=String(a),t.querySelector(".level-display").textContent=String(a),Pt(t,e),Ni(i)&&(i.dataset.treeStatus=O.UNLOCKED,Di(i));let o=de(t.dataset.nodeId||""),s=e.talents[o].find(c=>c.isEnd);if(s){let c=`jobTalentGraph-${e.id}-${o}-${s.id}`,d=i.querySelector(`[data-node-id="${c}"]`);parseInt(d?.dataset.currentLevel||"0",10)===0&&i.dataset.treeStatus===O.COMPLETED&&(i.dataset.treeStatus=O.ACTIVE,Ct(i))}Bt()}}function Bi(t,e){let n=parseInt(e.dataset.currentLevel||"0"),i=parseInt(e.dataset.requiredLevel||"0"),a=t.dataset.jobId,o=document.querySelectorAll(`.talent-grid[data-job-id="${a}"]`),s=Array.from(o).some(d=>d.dataset.treeStatus===O.ACTIVE),c=t.dataset.treeStatus===O.COMPLETED;return!s||!c||n-1>=i}function Ni(t){let e=t.querySelectorAll(".talent-node");return Array.from(e).every(n=>parseInt(n.dataset.currentLevel||"0")===0)}function Di(t){let e=t.dataset.jobId;document.querySelectorAll(`.talent-grid[data-job-id="${e}"]`).forEach(i=>{i!==t&&i.dataset.treeStatus===O.LOCKED&&(i.dataset.treeStatus=O.UNLOCKED)})}function Pt(t,e){let n=t.dataset.nodeId||"",i=le(n),a=de(n);if(!i||!a)return;$i(e,i.id).forEach(s=>{let c=`jobTalentGraph-${e.id}-${a}-${s.id}`,d=document.querySelector(`[data-node-id="${c}"]`),r=s.dependsOn.find(f=>f.nodeId===i.id)?.requiredLevel||0;d&&(Gi(d,e,r)||(d.dataset.currentLevel="0",d.querySelector(".level-display").textContent="0",Pt(d,e)))})}function $i(t,e){return Object.values(t.talents).flat().filter(n=>n.dependsOn.find(i=>i.nodeId===e))}function Gi(t,e,n){let i=t.dataset.nodeId||"",a=le(i),o=de(i);return!a||!o?!0:a.dependsOn.every(s=>{let c=`jobTalentGraph-${e.id}-${o}-${s.nodeId}`,d=document.querySelector(`[data-node-id="${c}"]`);return d&&parseInt(d.dataset.currentLevel||"0")>=n})}function de(t){return t.split("-")[2]}function le(t){let e=t.split("-"),n=parseInt(e[1],10),i=e[2],a=parseInt(e[3],10);return Be.find(o=>o.id===n)?.talents[i].find(o=>o.id===a)}function Yi(t){let e=0;return t.forEach(n=>{e=Math.max(e,n.length)}),e}function Ki(t){let e={};function n(i){if(i in e)return e[i];let a=t.find(s=>s.id===i);if(!a||a.dependsOn.length===0)return e[i]=1,1;let o=Math.max(...a.dependsOn.map(s=>n(s.nodeId)));return e[i]=o+1,e[i]}return t.forEach(i=>n(i.id)),e}function Fi(t,e){let n=new Map;return Array.from(new Set(Object.values(e))).sort((a,o)=>a-o).forEach(a=>{let o=Object.entries(e).filter(([s,c])=>c===a).map(([s])=>t.find(c=>c.id===parseInt(s,10))).filter(s=>s!==void 0);n.set(a,o)}),n}function Wi(){let t=[];return document.querySelectorAll(".talent-grid").forEach(e=>{let n=parseInt(e.dataset.jobId||"0",10),i=e.dataset.position||"left",a=e.dataset.treeStatus||O.LOCKED,o=[];e.querySelectorAll(".talent-node").forEach(s=>{o.push({nodeId:s.dataset.nodeId||"",currentLevel:parseInt(s.dataset.currentLevel||"0",10)})}),t.push({jobId:n,position:i,treeStatus:a,nodes:o})}),t}function Ji(){let e=Wi().map(i=>({j:i.jobId,p:i.position,s:i.treeStatus,n:i.nodes.map(a=>({i:a.nodeId.replace("jobTalentGraph-",""),l:a.currentLevel}))})),n=JSON.stringify(e);return encodeURIComponent(Pe.default.compressToEncodedURIComponent(n))}function Qi(t){let e=Pe.default.decompressFromEncodedURIComponent(decodeURIComponent(t));if(!e)throw new Error("Failed to decompress data.");return JSON.parse(e).map(i=>({jobId:i.j,position:i.p,treeStatus:i.s,nodes:i.n.map(a=>({nodeId:`jobTalentGraph-${a.i}`,currentLevel:a.l}))}))}function Bt(){let t=new URLSearchParams(window.location.search),e=Ji();e?t.set(ce,e):t.delete(ce);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function zi(){let e=new URLSearchParams(window.location.search).get(ce);if(e){let n=Qi(e);console.log("Decompressed JSON:",n),Vi(n)}}function Vi(t){t.forEach(e=>{let n=document.querySelector(`.talent-grid[data-job-id="${e.jobId}"][data-position="${e.position}"]`);n&&(n.dataset.treeStatus=e.treeStatus,e.nodes.forEach(i=>{let a=document.querySelector(`[data-node-id="${i.nodeId}"]`);a&&(a.dataset.currentLevel=i.currentLevel.toString(),a.querySelector(".level-display").textContent=i.currentLevel.toString())}))})}function Nt(){qi(),zi();let t=document.getElementById("reset-back-talents-btn");m(t,"click",()=>{h([ce],"\u80CC\u98FE\u308A\u80FD\u529B")})}var Dt=[{id:1,name:"\u5FEB\u9069\u30DC\u30FC\u30C8",icon:"icons/ships/1.jpg"},{id:2,name:"\u9752\u767D\u30AB\u30CC\u30FC",icon:"icons/ships/2.jpg"},{id:3,name:"\u30C0\u30C3\u30AF\u8239",icon:"icons/ships/3.jpg"},{id:4,name:"\u5075\u5BDF\u30DC\u30FC\u30C8",icon:"icons/ships/4.jpg"},{id:5,name:"\u5E7D\u970A\u8239",icon:"icons/ships/5.jpg"},{id:6,name:"\u30C9\u30E9\u30B4\u30F3\u30DC\u30FC\u30C8",icon:"icons/ships/6.jpg"},{id:7,name:"\u30C1\u30E7\u30B3\u30D0\u30CA\u30CA\u30DC\u30FC\u30C8",icon:"icons/ships/7.jpg"}],De='<span class="icon empty"></span>',re="ship";function Xi(){let t=document.getElementById("ship-list");t.innerHTML="",Dt.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>Zi(e)),t.appendChild(n)}),me()}function Zi(t){let e=document.getElementById("selected-ship");if(e.dataset.shipId===String(t.id))e.removeAttribute("data-ship-id"),e.innerHTML=De,Ne(null);else{e.dataset.shipId=String(t.id),e.innerHTML="";let i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.classList.add("icon"),m(i,"click",()=>{e.removeAttribute("data-ship-id"),e.innerHTML=De,me(),Ne(null)}),e.appendChild(i),Ne(t.id)}me()}function me(){document.querySelectorAll("#ship-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`#selected-ship[data-ship-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function Ne(t){let e=new URLSearchParams(window.location.search);t!==null?e.set(re,String(t)):e.delete(re);let n=e.toString()?"?"+e.toString():window.location.pathname;history.replaceState(null,"",n)}function ea(){let e=new URLSearchParams(window.location.search).get(re),n=document.getElementById("selected-ship");if(e){n.dataset.shipId=e;let i=Dt.find(a=>a.id===parseInt(e,10));i&&(n.innerHTML=`<img src="${i.icon}" alt="${i.name}" class="icon">`)}else n.innerHTML=De,n.removeAttribute("data-ship-id");me()}function $t(){Xi(),ea();let t=document.getElementById("reset-ship-btn");m(t,"click",()=>{h([re],"\u8239")})}var pe="star-hero",G='<span class="icon empty"></span>',ta=10,Gt=[{id:1,name:"\u795E\u8056\u306A\u308B\u6226\u795E",icon:"icons/star_heroes/1.jpg",cost:4},{id:2,name:"\u5D50\u306E\u652F\u914D\u8005",icon:"icons/star_heroes/2.jpg",cost:4},{id:3,name:"\u4E07\u7363\u306E\u738B",icon:"icons/star_heroes/3.jpg",cost:4},{id:4,name:"\u8056\u306A\u308B\u5B88\u8B77\u8005",icon:"icons/star_heroes/4.jpg",cost:4},{id:5,name:"\u4E07\u9858\u306E\u706F\u795E",icon:"icons/star_heroes/5.jpg",cost:4},{id:6,name:"\u970A\u5831\u306E\u4F7F\u8005",icon:"icons/star_heroes/6.jpg",cost:3},{id:7,name:"\u77E5\u6075\u306E\u5C0E\u5E2B",icon:"icons/star_heroes/7.jpg",cost:3},{id:8,name:"\u6642\u5B88\u308A\u306E\u5996\u7CBE",icon:"icons/star_heroes/8.jpg",cost:3},{id:9,name:"\u5149\u8F1D\u306E\u9A0E\u58EB",icon:"icons/star_heroes/9.jpg",cost:3},{id:10,name:"\u7363\u970A\u306E\u5E87\u8B77\u8005",icon:"icons/star_heroes/10.jpg",cost:3},{id:11,name:"\u865A\u7A7A\u306E\u5C0E\u304D\u624B",icon:"icons/star_heroes/11.jpg",cost:3},{id:12,name:"\u79E9\u5E8F\u306E\u5B88\u8B77\u8005",icon:"icons/star_heroes/12.jpg",cost:3},{id:13,name:"\u751F\u614B\u7CFB\u306E\u5B88\u8B77\u8005",icon:"icons/star_heroes/13.jpg",cost:3},{id:14,name:"\u74B0\u5883\u306E\u5B88\u8B77\u8005",icon:"icons/star_heroes/14.jpg",cost:3},{id:15,name:"\u77E5\u8B58\u306E\u66F8\u970A",icon:"icons/star_heroes/15.jpg",cost:2},{id:16,name:"\u7121\u754F\u306E\u98DB\u9CE5",icon:"icons/star_heroes/16.jpg",cost:2},{id:17,name:"\u6D3B\u529B\u306E\u82E5\u5C06\u8ECD",icon:"icons/star_heroes/17.jpg",cost:2},{id:18,name:"\u5148\u92D2\u30A6\u30CB",icon:"icons/star_heroes/18.jpg",cost:2},{id:19,name:"\u5FE0\u7FA9\u306A\u885B\u5175",icon:"icons/star_heroes/19.jpg",cost:2},{id:20,name:"\u7E41\u6804\u306E\u4F7F\u8005",icon:"icons/star_heroes/20.jpg",cost:2},{id:21,name:"\u8C4A\u7A63\u306E\u4F7F\u8005",icon:"icons/star_heroes/21.jpg",cost:2},{id:22,name:"\u5929\u7A79\u306E\u76E3\u8996\u8005",icon:"icons/star_heroes/22.jpg",cost:2},{id:23,name:"\u52C7\u6562\u306A\u9B42\u9A0E\u58EB",icon:"icons/star_heroes/23.jpg",cost:2},{id:24,name:"\u5CA9\u6B66\u306E\u9A0E\u58EB",icon:"icons/star_heroes/24.jpg",cost:2},{id:25,name:"\u5F71\u306E\u5B88\u8B77\u970A",icon:"icons/star_heroes/25.jpg",cost:2}];function Ge(){let t=document.getElementById("star-hero-list");t.innerHTML="",Gt.forEach(e=>{let n=document.createElement("img");n.src=e.icon,n.alt=e.name,n.classList.add("icon"),n.dataset.id=String(e.id),m(n,"click",()=>na(e)),t.appendChild(n)}),Yt()}function na(t){let e=document.querySelector(`.star-hero-slot[data-star-hero-id="${t.id}"]`);if(e){let n=parseInt(e.dataset.slot||"0",10);$e(n)}else{let n=document.querySelector(".star-hero-slot:not([data-star-hero-id])"),i=document.getElementById("star-hero-total-cost"),a=parseInt(i.dataset.total||"0",10);if(n&&a+t.cost<=ta){n.dataset.starHeroId=String(t.id),n.innerHTML="";let o=document.createElement("img");o.src=t.icon,o.alt=t.name,o.classList.add("icon"),o.dataset.palId=String(t.id),n.dataset.cost=String(t.cost),m(o,"click",()=>{let s=parseInt(n.dataset.slot||"0",10);$e(s)}),n.appendChild(o),Kt(),Ge(),Ye()}}}function Ye(){let t=document.querySelectorAll(".star-hero-slot"),e=Array.from(t).reduce((i,a)=>i+parseInt(a.dataset.cost||"0",10),0),n=document.getElementById("star-hero-total-cost");n.textContent=String(e),n.dataset.total=String(e)}function $e(t){let e=document.querySelector(`.star-hero-slot[data-slot="${t}"]`);e&&(e.removeAttribute("data-star-hero-id"),e.dataset.cost="0",e.innerHTML=G),Ge(),Kt(),Ye()}function Yt(){document.querySelectorAll("#star-hero-list .icon").forEach(t=>{let e=t.dataset.id;document.querySelector(`.star-hero-slot[data-star-hero-id="${e}"]`)?t.classList.add("selected"):t.classList.remove("selected")})}function Kt(){let t=new URLSearchParams(window.location.search),e=Array.from(document.querySelectorAll(".star-hero-slot[data-star-hero-id]")).map(i=>{let a=i.getAttribute("data-slot"),o=i.getAttribute("data-star-hero-id");return`${a}:${o}`}).join(",");e?t.set(pe,e):t.delete(pe);let n=t.toString()?"?"+t.toString():window.location.pathname;history.replaceState(null,"",n)}function ia(){let t=document.getElementById("selected-star-hero");t.innerHTML="";let e=document.createElement("div");e.classList.add("star-hero-slot","main"),e.dataset.slot="0",e.innerHTML=G;let n=document.createElement("div");n.classList.add("star-hero-slot","sub"),n.dataset.slot="1",n.innerHTML=G;let i=document.createElement("div");i.classList.add("star-hero-slot","sub"),i.dataset.slot="2",i.innerHTML=G,t.appendChild(e),t.appendChild(n),t.appendChild(i);let a=document.getElementById("star-hero-total-cost");a.textContent="0",a.dataset.total="0"}function aa(){let e=new URLSearchParams(window.location.search).get(pe),n=new Map((e||"").split(",").map(a=>{let[o,s]=a.split(":");return[o,s]}));document.querySelectorAll(".star-hero-slot").forEach(a=>{let o=a.dataset.slot,s=n.get(o),c=Gt.find(d=>d.id===parseInt(s||"",10));if(c){a.dataset.starHeroId=String(c.id),a.innerHTML="";let d=document.createElement("img");d.src=c.icon,d.classList.add("icon"),d.alt=c.name,m(d,"click",()=>{let r=parseInt(a.dataset.slot||"1",10);$e(r)}),a.appendChild(d)}else a.removeAttribute("data-star-hero-id"),a.innerHTML=G}),Yt(),Ye()}function Ft(){ia(),Ge(),aa();let t=document.getElementById("reset-star-heroes-btn");m(t,"click",()=>{h([pe],"\u661F\u5C06")})}function F(){Je(),Ze(),et(),it(),Ve(),dt(),lt(),ft(),qt(),yt(),Ot(),wt(),Nt(),$t(),Ft()}function Wt(){document.querySelectorAll(".tab").forEach(t=>{t.addEventListener("click",()=>{let e=t.getAttribute("data-target");if(e){let n=document.querySelector(e);if(n){let i=n.offsetTop-50;window.scrollTo({top:i,behavior:"smooth"})}}})})}function Jt(){window.addEventListener("scroll",()=>{let t=window.scrollY+60;document.querySelectorAll("section").forEach(e=>{let n=e.getAttribute("id");if(n){let i=e.offsetTop,a=e.offsetHeight;if(t>=i&&t<i+a){document.querySelectorAll(".tab").forEach(s=>{s.classList.remove("active")});let o=document.querySelector(`[data-target="#${n}"]`);o&&o.classList.add("active")}}})})}window.addEventListener("load",()=>{F(),Wt(),Jt()});})();
//# sourceMappingURL=index.js.map
